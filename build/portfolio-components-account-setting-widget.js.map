{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4548fa1d6938409ddb3d","webpack:///./components/account-setting-widget/src/index.js","webpack:///external \"morningstar\"","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.js","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.css?8a3a","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.css","webpack:///./~/css-loader/cssToString.js","webpack:///./~/style-loader/addStyles.js","webpack:///external \"portfolio-components-common\"","webpack:///./components/account-setting-widget/src/widget/account-setting-widget-data-model.js","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.html","webpack:///./components/account-setting-widget/src/html/account-setting-content.html","webpack:///./components/account-setting-widget/src/html/general_setting.html","webpack:///./components/account-setting-widget/src/html/calculation_setting.html","webpack:///./components/account-setting-widget/src/js/event-handler-dom.js","webpack:///./components/account-setting-widget/src/js/create_dom_handler.js","webpack:///./components/account-setting-widget/src/html/search-input.html","webpack:///./components/account-setting-widget/src/html/radio-select.html","webpack:///./components/account-setting-widget/src/html/combox-select.html","webpack:///./components/account-setting-widget/src/html/switch.html"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACLA,gD;;;;;;mCCAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D,OAAO;AAClE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA,MAAK;;AAEL;AACA;AACA,EAAC,uJ;;;;;;ACtKD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACjBA;AACA,mDAAkD,qBAAqB,KAAK,mCAAmC,8BAA8B,2BAA2B,KAAK,mCAAmC,wBAAwB,KAAK,yCAAyC,oBAAoB,qBAAqB,+BAA+B,mBAAmB,4BAA4B,yBAAyB,KAAK,oCAAoC,yBAAyB,mCAAmC,4BAA4B,sCAAsC,KAAK,+FAA+F,0BAA0B,wBAAwB,0BAA0B,oBAAoB,KAAK,mFAAmF,2BAA2B,kBAAkB,kBAAkB,mBAAmB,mBAAmB,KAAK,qCAAqC,2BAA2B,KAAK,mDAAmD,2BAA2B,iBAAiB,kBAAkB,qBAAqB,yBAAyB,KAAK,yDAAyD,yBAAyB,4BAA4B,sCAAsC,KAAK,oEAAoE,wBAAwB,KAAK,mDAAmD,2BAA2B,KAAK,uDAAuD,mCAAmC,kCAAkC,yBAAyB,KAAK,2DAA2D,sCAAsC,sBAAsB,yBAAyB,KAAK,kHAAkH,2BAA2B,KAAK,gEAAgE,2BAA2B,qBAAqB,wBAAwB,KAAK,4EAA4E,0BAA0B,KAAK,iLAAiL,wBAAwB,gCAAgC,sBAAsB,KAAK,kEAAkE,mBAAmB,KAAK,kEAAkE,4BAA4B,KAAK,qEAAqE,2BAA2B,KAAK,qEAAqE,0BAA0B,KAAK,6FAA6F,qBAAqB,KAAK,iFAAiF,0BAA0B,uBAAuB,KAAK,mEAAmE,4BAA4B,wBAAwB,KAAK,mEAAmE,0BAA0B,wBAAwB,KAAK,iEAAiE,2BAA2B,kBAAkB,kBAAkB,mBAAmB,oBAAoB,+BAA+B,sBAAsB,KAAK,wDAAwD,qBAAqB,KAAK,Q;;;;;;ACDnnH;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACfA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4DAA2D;AAC3D,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnHA,gD;;;;;;mCCAA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAqB;;AAErB;AACA,yDAAwD,YAAY;AACpE;AACA;AACA;AACA;AACA,UAAS;;;AAGT;;;AAGA;;AAEA;AACA;AACA;AACA,UAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA,EAAC,uJ;;;;;;ACvHD,43B;;;;;;ACAA,qrBAAorB,eAAe,oDAAoD,oBAAoB,uC;;;;;;ACA3wB,kaAAia,oBAAoB,iWAAiW,eAAe,uZAAuZ,aAAa,kD;;;;;;ACAzsC,kbAAib,kBAAkB,6WAA6W,qBAAqB,mcAAmc,cAAc,sXAAsX,gBAAgB,ueAAue,kBAAkB,oFAAoF,qBAAqB,+XAA+X,aAAa,idAAid,eAAe,qXAAqX,qBAAqB,8WAA8W,aAAa,wE;;;;;;mCCA/2H;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,kBAAiB;AACjB;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA,UAAS;;;AAGT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;;AAGT;AACA;AACA;AACA;AACA,UAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC,uJ;;;;;;mCC3PD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA,cAAa;;AAEb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,cAAc,YAAY,OAAO;AAC9E,2BAA0B,SAAS;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAgD,OAAO;AACvD;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;;AAEA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,UAAS;;;AAGT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA4C,OAAO;AACnD;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;;AAET;AACA,4CAA2C,UAAU;AACrD,gFAA+E,MAAM;AACrF;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA,EAAC,uJ;;;;;;ACzPD,gCAA+B,UAAU,eAAe,gBAAgB,YAAY,aAAa,wIAAwI,eAAe,2H;;;;;;ACAxP,sCAAqC,UAAU,YAAY,mBAAmB,gB;;;;;;ACA9E,wNAAuN,YAAY,oKAAoK,OAAO,sFAAsF,IAAI,qD;;;;;;ACAxe,gCAA+B,UAAU,YAAY,OAAO,uIAAuI,iBAAiB,EAAE,eAAe,qBAAqB,mBAAmB,EAAE,iBAAiB,GAAG,UAAU,wB","file":"portfolio-components-account-setting-widget.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"morningstar\"), require(\"portfolio-components-common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"portfolio-components-account-setting-widget\", [\"morningstar\", \"portfolio-components-common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"portfolio-components-account-setting-widget\"] = factory(require(\"morningstar\"), require(\"portfolio-components-common\"));\n\telse\n\t\troot[\"portfolio-components-account-setting-widget\"] = factory(root[\"morningstar\"], root[\"portfolio-components-common\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4548fa1d6938409ddb3d","'use strict';\r\nvar morningstar = require(\"morningstar\");\r\nvar portfolioAccountSettingWidget = require('./widget/account-setting-widget.js');\r\nmorningstar.asterix.register('portfolioAccountSettingWidget');\r\nmorningstar.components.portfolioAccountSettingWidget = portfolioAccountSettingWidget;\r\nmodule.exports = portfolioAccountSettingWidget;\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/index.js\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morningstar\"\n// module id = 1\n// module chunks = 0","define(function() {\r\n    'use strict';\r\n\r\n    require('./account-setting-widget.css');\r\n    var portfolioCommon = require('portfolio-components-common');\r\n    var WidgetBase = portfolioCommon.widget.WidgetBase;\r\n    var Util = portfolioCommon.util.Util;\r\n    var DataModel = require(\"./account-setting-widget-data-model.js\");\r\n    var widgetHtml = require(\"./account-setting-widget.html\");\r\n    var accountSettingHtml = require(\"../html/account-setting-content.html\");\r\n    var generalSetting = require(\"../html/general_setting.html\");\r\n    var calculationSetting = require(\"../html/calculation_setting.html\");\r\n    var DomEventHandler = require(\"../js/event-handler-dom.js\");\r\n    var DomCreateHandler = require(\"../js/create_dom_handler.js\");\r\n\r\n    var AccountSettingWidget = WidgetBase.extend({\r\n        DataModel: DataModel,\r\n        template: widgetHtml,\r\n\r\n        initialize: function(options) {\r\n            this.accountSettingData = {};\r\n        },\r\n\r\n        domReady: function() {\r\n            //implement\r\n            this.settingsContainer = this.$(\".ma-account-setting-content\");\r\n            this.model.showLoading();\r\n            this._bindEvent();\r\n            return this;\r\n        },\r\n\r\n        _bindEvent: function() {\r\n\r\n            var self = this;\r\n            this.model.on(\"change:portfolio_account_setting\", function(model, data) {\r\n                self.accountSettingData = data;\r\n                self.renderAccountSetting();\r\n                self.handleHidenAccountSetting();\r\n                self.handlePerformanceShowing();\r\n                self.model.hideLoading();\r\n            });\r\n        },\r\n\r\n        //==================================================================\r\n        renderAccountSetting: function() {\r\n\r\n            var data = this.model.get(\"all_account_settings\");\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            if (!data || !defaultSetting) {\r\n                return this;\r\n            }\r\n            var $generalSetting = this.renderGenernalSetting();\r\n            var $calculationSetting = this.renderCalculateSetting();\r\n            var $html = Util.replace(accountSettingHtml, {\r\n\r\n                GeneralSetting: $generalSetting,\r\n                CalculationSettting: $calculationSetting\r\n            });\r\n            this.settingsContainer.append($html);\r\n\r\n        },\r\n\r\n        renderGenernalSetting: function() {\r\n            var data = this.model.get(\"all_account_settings\");\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            var self = this;\r\n            var $html = Util.replace(generalSetting, {\r\n                //when true,disable the click\r\n                modelPortfolio: self.createSearch(\"modelPortfolio\", true),\r\n                separaManAcc: self.createSwitch(data.realSMAFlag, defaultSetting.realSMAFlag),\r\n                portfolioIdentifier: self.createInputText()\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        renderCalculateSetting: function() {\r\n            var data = this.model.get(\"all_account_settings\");\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            var self = this;\r\n            var $html = Util.replace(calculationSetting, {\r\n                cashPerformance: self.createRadioList(data.isUseRiskFreeInAg, defaultSetting.isUseRiskFreeInAg),\r\n                missingPerData: self.createRadioList(data.preMissingReturnOption, defaultSetting.preMissingReturnOption),\r\n                gapsInAvaPerformance: self.createRadioList(data.afterMissingReturnOption, defaultSetting.afterMissingReturnOption),\r\n                performanceSource: self.createRadioList(data.performanceSourceId, defaultSetting.performanceSourceId),\r\n                subPerformanceSource: self.createSubPerfSource(data.performanceSourceId, defaultSetting.performanceSourceId),\r\n                rebFrequency: self.createSelectList(data.rebalanceFrequencyId, defaultSetting.rebalanceFrequencyId),\r\n                portfolioCurrency: self.createSelectList(data.baseCurrency, defaultSetting.baseCurrency),\r\n                performanceBenchmark: self.createSearch(\"benchmark\"),\r\n                riskFreeProxy: self.createSearch(\"freePoxy\"),\r\n                importSource: self.createSelectList(data.customDataPointForDRI, defaultSetting.customDataPointForDRI)\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        handlePerformanceShowing: function() {\r\n            var selectPerformance = this.$(\".performance_source .mas_parent_radio.selected\").attr(\"data-id\");\r\n            var selectSubPerformance = this.$(\".performance_source .mas_sub_radio.selected\").attr(\"data-id\");\r\n            var $importSource = this.$(\".import_source\");\r\n            if (selectPerformance === \"0\" && selectSubPerformance) {\r\n                if (selectSubPerformance !== \"1\") {\r\n                    $importSource.removeClass(\"hidden\");\r\n                }\r\n            }\r\n            if (selectPerformance !== \"0\") {\r\n                this.$(\".sub_performance_source\").hide();\r\n                $importSource.removeClass(\"hidden\");\r\n            }\r\n        },\r\n\r\n        handleHidenAccountSetting: function() {\r\n            var hidenAccSettingList = this.getHidenAccSettingList();\r\n            if (!Util.islist(hidenAccSettingList)) {\r\n                this.$(\".item_calculation\").hide();\r\n                return this;\r\n            }\r\n            for (var i = 0, l = hidenAccSettingList.length; i < l; i++) {\r\n                var item = hidenAccSettingList[i];\r\n                var hidenDom = this.$(\".\" + item);\r\n                hidenDom.hide();\r\n                hidenDom.css(\"height\", 0);\r\n            }\r\n\r\n            var self = this;\r\n            this.$(\".item_general .content_body_item\").each(function(index, e) {\r\n                self.handlerShowBorderLine(index, e);\r\n            });\r\n            this.$(\".item_calculation .content_body_item\").each(function(index, e) {\r\n                self.handlerShowBorderLine(index, e);\r\n            });\r\n            this.$(\".item_calculation\").hide();\r\n        },\r\n\r\n        handlerShowBorderLine: function(index, e) {\r\n            var target = $(e);\r\n            var height = target.height();\r\n            if (height > 0) {\r\n                return this;\r\n            }\r\n            if (index === 0) {\r\n                target.next(\".borderItem\").hide();\r\n            }\r\n            target.prev(\".borderItem\").hide();\r\n        },\r\n\r\n        getHidenAccSettingList: function() {\r\n            var investment = this.model.getSetting(\"investment\");\r\n            if (!investment) {\r\n                return this;\r\n            }\r\n            var portfolioType = investment.portfolioType;\r\n            if (portfolioType === \"model portfolio\") {\r\n                return [\"modelPortfolio\", \"separaManAcc\"];\r\n            }\r\n\r\n            if (portfolioType === \"custom benchmark\") {\r\n                return [\"modelPortfolio\", \"separaManAcc\", \"cashPerformance\", \"riskFreeProxy\"];\r\n            }\r\n\r\n            return [];\r\n        }\r\n\r\n\r\n    });\r\n\r\n    $.extend(AccountSettingWidget.prototype, DomEventHandler, DomCreateHandler);\r\n    return AccountSettingWidget;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget.js\n// module id = 2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\style-loader\\\\addStyles.js\")(content);\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tmodule.hot.accept(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\", function() {\n\t\tvar newContent = require(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\");\n\t\tif(typeof newContent === 'string') newContent = [module.id, newContent, ''];\n\t\tupdate(newContent);\n\t});\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget.css\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\cssToString.js\")();\nexports.push([module.id, \".ma-account-setting ul {\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n.ma-account-setting ul li {\\r\\n    list-style-type: none;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.ma-common-loading-center {\\r\\n    margin-top: 30%;\\r\\n}\\r\\n\\r\\n.ma-account-setting-popupLayout {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-color: #fff;\\r\\n    z-index: 3;\\r\\n    border-radius: 10px;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.ma-account-setting-header {\\r\\n    overflow: hidden;\\r\\n    margin: 15px 15px 5px 15px;\\r\\n    padding-bottom: 4px;\\r\\n    border-bottom: 2px solid #666;\\r\\n}\\r\\n\\r\\n.ma-account-setting-header .mas-ok-btn,\\r\\n.ma-account-setting-header .mas-cancel-btn {\\r\\n    margin: 0 5px 0 0;\\r\\n    font-size: 12px;\\r\\n    padding: 2px 10px;\\r\\n    width: 50px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .ma-account-setting-popupLayout .ma-common-main-block {\\r\\n    position: absolute;\\r\\n    top: 50px;\\r\\n    left: 0px;\\r\\n    right: 0px;\\r\\n    z-index: 0;\\r\\n}\\r\\n\\r\\n.ma-account-setting-content {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.ma-account-setting-content .content_list {\\r\\n    position: absolute;\\r\\n    top: 0px;\\r\\n    left: 0px;\\r\\n    width: 130px;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.ma-account-setting-content .content_list .item {\\r\\n    margin: 8px 15px;\\r\\n    padding-bottom: 5px;\\r\\n    border-bottom: 1px solid #666;\\r\\n}\\r\\n\\r\\n.ma-account-setting-content .content_list .item .item-icon {\\r\\n    margin-top: 5px;\\r\\n}\\r\\n\\r\\n.ma-account-setting-content .content_body {\\r\\n    margin-left: 150px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body .borderItem {\\r\\n    border-top: 1px solid #666;\\r\\n    margin: 15px 150px 10px 0;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body .sub_borderItem {\\r\\n    border-top: 1px solid #e0dcd7;\\r\\n    margin: 2px 0;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item_left,\\r\\n.ma-account-setting .content_body_item .item_right {\\r\\n    margin-right: 25px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .sub_item {\\r\\n    position: relative;\\r\\n    width: 320px;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .switch.switch-inline {\\r\\n    padding-left: 0px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .radio,\\r\\n.ma-account-setting .content_body_item .item .checkout,\\r\\n.ma-account-setting .content_body_item .item .switch {\\r\\n    font-size: 13px;\\r\\n    padding: 5px 8px 0 24px;\\r\\n    margin: 5px 0;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item.switch_item {\\r\\n    width: 25%;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .title span {\\r\\n    padding-bottom: 5px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item.item_sub_radio {\\r\\n    padding-left: 15px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .mas_sub_radio {\\r\\n    margin-left: 15px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .input-text .select2-selection--single {\\r\\n    height: 25px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .mas_input .select-content {\\r\\n    max-height: 230px;\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .select-text {\\r\\n    margin: 2px 0 0 5px;\\r\\n    font-size: 13px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .select-icon {\\r\\n    margin-right: 3px;\\r\\n    margin-top: 3px;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .item .mas_input {\\r\\n    position: absolute;\\r\\n    top: 25px;\\r\\n    left: 0px;\\r\\n    z-index: 4;\\r\\n    width: 100%;\\r\\n    background-color: #fff;\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.ma-account-setting .content_body_item .switch {\\r\\n    width: 100px;\\r\\n}\", \"\"]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/account-setting-widget/src/widget/account-setting-widget.css\n// module id = 4\n// module chunks = 0","module.exports = function() {\r\n\tvar list = [];\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\treturn list;\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/cssToString.js\n// module id = 5\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {};\r\n\r\nmodule.exports = function(list) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles);\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j]));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j]));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\t// var sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media/*, sourceMap: sourceMap*/};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction addStyle(obj) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = document.head || document.getElementsByTagName(\"head\")[0];\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\tapplyToTag(styleElement, obj);\r\n\treturn function(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media /*&& newObj.sourceMap === obj.sourceMap*/)\r\n\t\t\t\treturn;\r\n\t\t\tapplyToTag(styleElement, obj = newObj);\r\n\t\t} else {\r\n\t\t\thead.removeChild(styleElement);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\t// var sourceMap = obj.sourceMap;\r\n\r\n\t// No browser support\r\n\t// if(sourceMap && typeof btoa === \"function\") {\r\n\t\t// try {\r\n\t\t\t// css += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(JSON.stringify(sourceMap)) + \" */\";\r\n\t\t// } catch(e) {}\r\n\t// }\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"portfolio-components-common\"\n// module id = 7\n// module chunks = 0","define(function() {\r\n    \"use strict\";\r\n\r\n    var portfolioCommon = require(\"portfolio-components-common\");\r\n    var ModelBase = portfolioCommon.widget.ModelBase;\r\n\r\n    var dataModel = ModelBase.extend({\r\n\r\n        defaults: function() {\r\n            return {\r\n\r\n                requestSetting: {\r\n\r\n                    //for common request\r\n                    all_account_settings: {\r\n                        cacheId: \"all_account_settings\",\r\n                        resource: \"paapi/v1/portfolios/setting/option\",\r\n                        type: \"GET\"\r\n                    },\r\n\r\n                    change_account_setting: {\r\n                        resource: \"paapi/v1/portfolios/{portfolioId}/setting\",\r\n                        type: \"POST\"\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n\r\n        initialize: function() {\r\n\r\n\r\n            ModelBase.prototype.initialize.apply(this, arguments);\r\n\r\n            //==============================================\r\n            this.requestAccountSettingData();\r\n            return this;\r\n        },\r\n\r\n\r\n        requestAccountSettingData: function() {\r\n            clearTimeout(this.timeout_request);\r\n            var self = this;\r\n            this.timeout_request = setTimeout(function() {\r\n                self.requestAccountSettingDataNow();\r\n            }, 10);\r\n\r\n            return this;\r\n        },\r\n\r\n        requestAccountSettingDataNow: function() {\r\n            var self = this;\r\n            this.requestData(\"all_account_settings\").done(function(data) {\r\n                var accountSettingData = self.getAccountSetting(data);\r\n                self.set(\"all_account_settings\", accountSettingData);\r\n                self.requestDefaultAccountData();\r\n            }).fail(function(info) {\r\n                self.hideLoading();\r\n                self.showErrorInfo(\"Setting now available, please try aigain\");\r\n                console.log(\"Request account setting  fail:\", info);\r\n            });\r\n        },\r\n\r\n        requestDefaultAccountData: function() {\r\n            var self = this;\r\n            var portfolioId = this.getSetting(\"portfolioId\");\r\n            var groupId = this.getSetting(\"groupId\");\r\n            var source = this.getSetting(\"source\");\r\n            var d_accountSetting = this.service.requestAccountSettingData({\r\n                portfolioId: portfolioId,\r\n                groupId: groupId,\r\n                source: source\r\n            });\r\n            d_accountSetting.done(function(accountSetting) {\r\n                self.set(\"portfolio_account_setting\", accountSetting);\r\n            }).fail(function(info) {\r\n                self.hideLoading();\r\n                self.showErrorInfo(\"Setting now available, please try aigain\");\r\n                console.log(\"Request default account setting fail:\", info);\r\n            });\r\n        },\r\n\r\n        putDefaultAccountData: function(putData) {\r\n            var portfolioId = this.getSetting(\"portfolioId\");\r\n            var replaceOption = {\r\n                portfolioId: portfolioId,\r\n                postData: putData\r\n            };\r\n            return this.requestData(\"change_account_setting\", replaceOption);\r\n        },\r\n\r\n        removeAccountSettingDataCache: function(option) {\r\n            if (!option) {\r\n                return this;\r\n            }\r\n            var requestOption = this.getRequestOption(\"account_setting\", option);\r\n            var cacheId = requestOption.cacheId;\r\n            this.removeCache(cacheId);\r\n        },\r\n\r\n        getAccountSetting: function(data) {\r\n            if (!data) {\r\n                return this;\r\n            }\r\n            var accountData = {};\r\n\r\n            for (var item in data) {\r\n                if (data.hasOwnProperty(item)) {\r\n                    accountData[item] = {};\r\n                    accountData[item].id = item;\r\n                    accountData[item].list = data[item];\r\n                }\r\n            }\r\n\r\n            return accountData;\r\n        }\r\n    });\r\n\r\n    return dataModel;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget-data-model.js\n// module id = 8\n// module chunks = 0","module.exports = \"<div class=\\\"ma-account-setting\\\">\\r\\n    <div data-widget-view=\\\"default_view\\\" view-type=\\\"chart\\\" class=\\\"ma-account-setting-popupLayout\\\">\\r\\n        <div class=\\\"ma-account-setting-header clearfix\\\">\\r\\n            <div class=\\\"pull-left\\\">\\r\\n                <span>Account  Settings</span>\\r\\n            </div>\\r\\n            <div class=\\\"pull-right clearfix\\\">\\r\\n                <div class=\\\"pull-left\\\">\\r\\n                    <button data-id=\\\"cancel-btn\\\" class=\\\"mas-cancel-btn btn btn-default\\\">Cancel</button>\\r\\n                </div>\\r\\n                <div class=\\\"pull-left\\\">\\r\\n                    <button data-id=\\\"ok-btn\\\" class=\\\"mas-ok-btn btn btn-default\\\">Save</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"ma-account-setting-content ma-common-main-block\\\"></div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget.html\n// module id = 9\n// module chunks = 0","module.exports = \"<div class=\\\"account_setting_content\\\">\\r\\n    <div class=\\\"content_list\\\">\\r\\n        <div class=\\\"item mas_item_list clearfix\\\" data-id=\\\"item_general\\\">\\r\\n            <div class=\\\"item-text pull-left\\\">General</div>\\r\\n            <div class=\\\"item-icon ic-arrow-right-sm pull-right\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"item mas_item_list clearfix\\\" data-id=\\\"item_calculation\\\">\\r\\n            <div class=\\\"item-text pull-left\\\">Calculation</div>\\r\\n            <div class=\\\"item-icon ic-arrow-right-sm pull-right\\\" style=\\\"display:none\\\"></div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"content_body\\\">\\r\\n        <div  class=\\\"item_general\\\">{GeneralSetting}</div>\\r\\n        <div  class=\\\"item_calculation\\\">{CalculationSettting}</div> \\r\\n    </div>  \\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/account-setting-content.html\n// module id = 10\n// module chunks = 0","module.exports = \"<div data-id=\\\"general_content\\\">\\r\\n    <div class=\\\"content_body_item clearfix\\\">\\r\\n        <div class=\\\"pull-left item_left portfolioIdentifier\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Portfolio Identifier</span>\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{portfolioIdentifier}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"pull-left item_right modelPortfolio\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Model Portfolio</span>\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{modelPortfolio}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"borderItem\\\"></div>\\r\\n    <div class=\\\"content_body_item separaManAcc clearfix\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n            <span>Separately Mananged Account</span>\\r\\n        </div>\\r\\n        <div class=\\\"item switch_item\\\">\\r\\n            <div class=\\\"sub_borderItem\\\"></div>\\r\\n            <div class=\\\"sub_item\\\">{separaManAcc}</div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/general_setting.html\n// module id = 11\n// module chunks = 0","module.exports = \"<div data-id=\\\"calculation_content\\\">\\r\\n    <div class=\\\"content_body_item clearfix\\\">\\r\\n        <div class=\\\"pull-left item_left portfolioCurrency\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Portfolio Currency</span>\\r\\n            </div>\\r\\n            <div class=\\\"item item_sub_select\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{portfolioCurrency}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"pull-left item_right performanceBenchmark\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Performance Benchmark</span>\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{performanceBenchmark}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"borderItem\\\"></div>\\r\\n    <div class=\\\"content_body_item clearfix\\\">\\r\\n        <div class=\\\"pull-left item_left riskFreeProxy\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Risk-Free Proxy</span>\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=sub_item>{riskFreeProxy}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"pull-left item_right cashPerformance\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Cash Performance</span>\\r\\n            </div>\\r\\n            <div class=\\\"pull-left item item_sub\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{cashPerformance}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"borderItem\\\"></div>\\r\\n    <div class=\\\"content_body_item clearfix\\\">\\r\\n        <div class=\\\"pull-left item_left performanceSource\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Performance Source</span>\\r\\n            </div>\\r\\n            <div class=\\\"sub_borderItem\\\"></div>\\r\\n            <div class=\\\"item performance_source\\\">\\r\\n                <div class=\\\"sub_item pull-left\\\">{performanceSource}</div>\\r\\n                <div class=\\\"sub_item pull-left sub_performance_source\\\">{subPerformanceSource}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"pull-left item_right import_source hidden importSource\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Import Source</span>\\r\\n            </div>\\r\\n            <div class=\\\"item item_sub\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{importSource}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"borderItem\\\"></div>\\r\\n    <div class=\\\"content_body_item clearfix\\\">\\r\\n        <div class=\\\"pull-left item_left missingPerData\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Missing Performance Data</span>\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{missingPerData}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"pull-left item_right gapsInAvaPerformance\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Gaps In Available Performance</span>\\r\\n            </div>\\r\\n            <div class=\\\"item\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{gapsInAvaPerformance}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"pull-left item_right rebFrequency\\\">\\r\\n            <div class=\\\"title\\\">\\r\\n                <span>Rebalancing Frequency</span>\\r\\n            </div>\\r\\n            <div class=\\\"item item_sub\\\">\\r\\n                <div class=\\\"sub_borderItem\\\"></div>\\r\\n                <div class=\\\"sub_item\\\">{rebFrequency}</div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/calculation_setting.html\n// module id = 12\n// module chunks = 0","define(function() {\r\n    \"use strict\";\r\n    var portfolioCommon = require('portfolio-components-common');\r\n    var AutoComplete = portfolioCommon.ui.AutoComplete;\r\n\r\n    var eventHandler = {\r\n        events: {\r\n            \"click .mas_select\": \"_showSelectList\",\r\n            \"click .mas_parent_radio.radio\": \"_onClickRadio\",\r\n            \"click .mas_sub_radio.radio\": \"_onClickSubsRadio\",\r\n            \"click .mas_switch\": \"_onClickSwitch\",\r\n            \"click .mas_input\": \"_onClickSelectList\",\r\n            \"click .mas_input_search\": \"_onShowBenchmark\",\r\n            \"click .mas-cancel-btn\": \"_onClickCloseBtn\",\r\n            \"click .mas-ok-btn\": \"_onClickSaveBtn\",\r\n            \"click .mas_item_list\": \"_onClickItemList\",\r\n            \"blur .mas-input-text\": \"_onClickInputText\"\r\n        },\r\n\r\n        _onClickItemList: function(e) {\r\n            var $currentTarget = $(e.currentTarget);\r\n            var dataId = $currentTarget.attr(\"data-id\");\r\n            var showContainer = this.$(\".\" + dataId);\r\n            var hideContainer = this.$(\".\" + dataId).siblings();\r\n            var showIcon = $currentTarget.find(\".item-icon\");\r\n            var hideIcon = $currentTarget.siblings().find(\".item-icon\");\r\n            showIcon.show();\r\n            hideIcon.hide();\r\n            showContainer.show();\r\n            hideContainer.hide();\r\n            return this;\r\n        },\r\n\r\n        _onShowBenchmark: function(e) {\r\n            var $elem = $(e.currentTarget);\r\n            if ($elem.hasClass(\"select2-container--disabled\")) {\r\n                return this;\r\n            }\r\n            if (this.popup && this.popup.visible) {\r\n                this.popup.close();\r\n                return this;\r\n            }\r\n\r\n            var option = {\r\n                target: $elem,\r\n                type: \"account_setting\"\r\n            };\r\n            this.popup = new AutoComplete();\r\n            this.popup.setOption(option);\r\n            var self = this;\r\n            $(this.$el).one(\"click\", function() {\r\n                if (self.popup && self.popup.visible) {\r\n                    self.popup.close();\r\n                }\r\n                return false;\r\n            });\r\n            this.popup.bind(\"close\", function() {\r\n                this.popup = null;\r\n            }).bind(\"change\", function(e, d) {\r\n                $elem.find(\".select-text\").html(d.name || \"\");\r\n                var dataValue = $elem.attr(\"data-value\");\r\n                self.setSearchData(dataValue, d);\r\n            }).bind(\"search_data\", function(e, keywords) {\r\n                self.model.requestData(\"search_portfolios\", {\r\n                    keywords: keywords\r\n                }).done(function(d) {\r\n                    if (d && d.datas) {\r\n                        self.popup.setSearchResult(d.datas);\r\n                    }\r\n                }).fail(function() {\r\n                    console.log(\"requestData search_portfolios fail:\", keywords);\r\n                });\r\n            });\r\n            this.popup.show();\r\n            return this;\r\n        },\r\n\r\n        setSearchData: function(dataValue, d) {\r\n            if (dataValue === \"benchmark\") {\r\n                this.accountSettingData.benchmarkName = d.name;\r\n                this.accountSettingData.benchmarkId = d.id;\r\n                return this;\r\n            }\r\n            if (dataValue === \"freePoxy\") {\r\n                this.accountSettingData.riskFreeProxyName = d.name;\r\n                this.accountSettingData.riskFreeProxyId = d.id;\r\n                return this;\r\n            }\r\n        },\r\n\r\n\r\n        _showSelectList: function(e, d) {\r\n            var target = e.currentTarget;\r\n            var nextNode = $(target).next();\r\n            if (nextNode.is(\":visible\")) {\r\n                nextNode.hide();\r\n                return;\r\n            }\r\n            this.$(\".input-text .input-content\").hide();\r\n            nextNode.show();\r\n            $(this.$el).one(\"click\", function() {\r\n                nextNode.hide();\r\n                return false;\r\n            });\r\n        },\r\n\r\n        _onClickSelectList: function(e) {\r\n\r\n            var $elem = $(e.target);\r\n            var $curTarget = $(e.currentTarget);\r\n            var dataName = $curTarget.attr(\"data-value\");\r\n            var dataId = $elem.attr(\"data-id\");\r\n            var dataValue = $elem.attr(\"data-value\");\r\n            this.accountSettingData[dataName] = dataId;\r\n\r\n            var slibingsNode = $elem.siblings();\r\n            $elem.addClass(\"select-option-selected\");\r\n            slibingsNode.removeClass(\"select-option-selected\");\r\n            $curTarget.hide();\r\n            var dataValueDom = $curTarget.prev().find(\".select-text\");\r\n            dataValueDom.html(dataValue);\r\n        },\r\n\r\n        getSubPerformanceId: function($elem, dataName) {\r\n            var $subRadios = this.$(\"[data-id=\" + dataName + \"]\");\r\n            var dataId = $elem.attr(\"data-id\");\r\n            //hide sub Performance source\r\n            // this.$(\".sub_performance_source\").hide();\r\n            $subRadios.hide();\r\n            $subRadios.parent().width(0);\r\n\r\n            if ($elem.hasClass(\"hasSubRadio\")) {\r\n                //show sub Performance source\r\n                this.$(\".sub_performance_source\").show();\r\n                $subRadios.show();\r\n                $subRadios.parent().width(320);\r\n\r\n\r\n                var $subChild = $subRadios.find(\".radio\");\r\n                var $firstChild = $subChild.eq(0);\r\n\r\n                if (!$subChild.hasClass(\"selected\")) {\r\n                    $firstChild.addClass(\"selected\");\r\n                    dataId = $firstChild.attr(\"data-id\");\r\n                } else {\r\n                    dataId = $subRadios.find(\".radio.selected\").attr(\"data-id\");\r\n                }\r\n            }\r\n\r\n            return dataId;\r\n        },\r\n\r\n\r\n        _onClickRadio: function(e) {\r\n            var $elem = $(e.target);\r\n            var dataName = $elem.parent().attr(\"data-value\");\r\n            var dataId = $elem.attr(\"data-id\");\r\n\r\n            if (dataName === \"performanceSourceId\") {\r\n                var $importSource = this.$(\".import_source\");\r\n                $importSource.addClass(\"hidden\");\r\n                dataId = this.getSubPerformanceId($elem, dataName);\r\n                if (dataId === \"3\" || dataId === \"2\") {\r\n                    $importSource.removeClass(\"hidden\");\r\n                }\r\n            }\r\n            this.accountSettingData[dataName] = dataId;\r\n            var slibingsNode = $elem.siblings();\r\n            $elem.addClass(\"selected\");\r\n            slibingsNode.removeClass(\"selected\");\r\n\r\n        },\r\n\r\n        _onClickSubsRadio: function(e) {\r\n            var $elem = $(e.target);\r\n            var dataId = $elem.attr(\"data-id\");\r\n            var dataName = $elem.parent().attr(\"data-id\");\r\n            if ($elem.hasClass(\"disabled\")) {\r\n                return this;\r\n            }\r\n            //show/hide import source\r\n            var $importSource = this.$(\".import_source\");\r\n            $importSource.addClass(\"hidden\");\r\n            if (dataId !== \"1\") {\r\n                $importSource.removeClass(\"hidden\");\r\n            }\r\n\r\n            this.accountSettingData[dataName] = dataId;\r\n            $elem.addClass(\"selected\");\r\n            $elem.siblings().removeClass(\"selected\");\r\n        },\r\n\r\n        _onClickSwitch: function(e) {\r\n            var target = e.currentTarget;\r\n            var nextNode = $(target).next();\r\n            var parentNode = $(target).parent();\r\n            var dataName = parentNode.attr(\"data-id\");\r\n\r\n            if (parentNode.hasClass(\"selected\")) {\r\n                parentNode.removeClass(\"selected\");\r\n                this.accountSettingData[dataName] = false;\r\n                nextNode.html(\"Yes\");\r\n                return this;\r\n            }\r\n            this.accountSettingData[dataName] = true;\r\n            parentNode.addClass(\"selected\");\r\n            nextNode.html(\"No\");\r\n        },\r\n\r\n\r\n        _onClickCloseBtn: function() {\r\n            this.model.actionHandlerSend(\"closeContainerModal\", \"cancel\");\r\n            this.destroy();\r\n            this.model = null;\r\n        },\r\n\r\n\r\n        _onClickSaveBtn: function() {\r\n            var accountSettingData = this.accountSettingData;\r\n            this.model.showLoading();\r\n            this.$(\".account_setting_content\").remove();\r\n            this.model.setSetting(\"accountSettingData\", accountSettingData);\r\n            var self = this;\r\n            var option = {\r\n                portfolioId: this.model.getSetting(\"portfolioId\"),\r\n                groupId: this.model.getSetting(\"groupId\"),\r\n                source: this.model.getSetting(\"source\")\r\n            };\r\n            this.model.putDefaultAccountData(accountSettingData).done(function() {\r\n                self.model.actionHandlerSend(\"closeContainerModal\", \"save\");\r\n                self.model.removeAccountSettingDataCache(option);\r\n                self.model = null;\r\n            }).fail(function() {\r\n                self.model.hideLoading();\r\n                self.model.showErrorInfo(\"Put setting failed, please try aigain\");\r\n            });\r\n        },\r\n\r\n        _onClickInputText: function(e) {\r\n            var $target = $(e.target);\r\n            var dataName = $target.parent().attr(\"data-value\");\r\n            if (!dataName) {\r\n                return this;\r\n            }\r\n            var textValue = $target.val();\r\n            this.accountSettingData[dataName] = textValue;\r\n\r\n        }\r\n    };\r\n\r\n    return eventHandler;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/js/event-handler-dom.js\n// module id = 13\n// module chunks = 0","define(function() {\r\n    'use strict';\r\n\r\n    var portfolioCommon = require('portfolio-components-common');\r\n    var Util = portfolioCommon.util.Util;\r\n    var searchInputHtml = require(\"../html/search-input.html\");\r\n    var radioSelectHtml = require(\"../html/radio-select.html\");\r\n    var comboxSelectHtml = require(\"../html/combox-select.html\");\r\n    var switchHtml = require(\"../html/switch.html\");\r\n\r\n    var eventHandler = {\r\n        createSelectList: function(data, value) {\r\n\r\n            var list = data.list;\r\n\r\n            var selcteValue = \"\";\r\n            var $ul = \"\";\r\n            if (Util.islist(list)) {\r\n                list.forEach(function(item, key) {\r\n                    var itemName = item.name;\r\n                    var className = \"select-option\";\r\n                    if (item.id === value) {\r\n                        selcteValue = itemName;\r\n                        className = \"select-option select-option-selected\";\r\n                    }\r\n                    $ul += \"<li class='\" + className + \"' data-value='\" + itemName + \"' data-id='\" + item.id + \"'>\" + itemName + \"</li>\";\r\n                });\r\n            }\r\n\r\n            var $html = Util.replace(comboxSelectHtml, {\r\n                selcteValue: selcteValue,\r\n                dataId: data.id,\r\n                $ul: $ul\r\n            });\r\n\r\n            return $html;\r\n        },\r\n\r\n        createRadioList: function(data, value) {\r\n            if (!data || !data.list) {\r\n                return this;\r\n            }\r\n            var list = data.list;\r\n            var listData = this.getListData(list, value);\r\n            if (!Util.islist(listData)) {\r\n                return this;\r\n            }\r\n            var $singleRadio = \"<div class='{dataClassName}' data-id='{dataId}'>\" +\r\n                \" <span> {dataName} </span> </div>\";\r\n            var $html = \"\";\r\n\r\n            listData.forEach(function(item) {\r\n                var dataClassName = \"mas_parent_radio radio\";\r\n                if (Util.islist(item.subs)) {\r\n                    dataClassName += \" hasSubRadio\";\r\n                }\r\n                if (item.selected) {\r\n                    dataClassName += \" selected\";\r\n                }\r\n                $html += Util.replace($singleRadio, {\r\n                    dataId: item.id,\r\n                    dataName: item.name,\r\n                    dataClassName: dataClassName\r\n\r\n                });\r\n            });\r\n            return Util.replace(radioSelectHtml, {\r\n                RadioSelectContent: $html,\r\n                dataValue: data.id\r\n            });\r\n        },\r\n\r\n        createSubPerfSource: function(data, value) {\r\n            if (!data || !data.list) {\r\n                return this;\r\n            }\r\n            var listData = this.getListData(data.list, value);\r\n            if (!Util.islist(listData)) {\r\n                return this;\r\n            }\r\n            var getSubsHtml = function(item) {\r\n                var list = item.subs;\r\n                if (!Util.islist(list)) {\r\n                    return this;\r\n                }\r\n                var show = item.selected ? \"block\" : \"none\";\r\n                var $subsRadio = \"<div data-id=\" + data.id + \" style='display:\" + show + \"'>\";\r\n                list.forEach(function(d) {\r\n                    var subsClassName = \"mas_sub_radio radio\";\r\n                    if (d.selected) {\r\n                        subsClassName = \"mas_sub_radio radio selected\";\r\n                    }\r\n                    $subsRadio += \"<div class='\" + subsClassName + \"' data-id='\" + d.id + \"'>\" + d.name + \"</div>\";\r\n                });\r\n                return $subsRadio + \"</div>\";\r\n            };\r\n            var $html = \"\";\r\n            listData.forEach(function(item) {\r\n                if (Util.islist(item.subs)) {\r\n                    $html = getSubsHtml(item);\r\n                }\r\n            });\r\n\r\n            return $html;\r\n\r\n        },\r\n\r\n        getListData: function(list, value) {\r\n\r\n            list = JSON.parse(JSON.stringify(list));\r\n            var listData = [];\r\n            var subsData = [];\r\n\r\n            var isBoolean = function(value) {\r\n                if (value === \"true\" || value === \"false\") {\r\n                    return true;\r\n                }\r\n                if (typeof(value) === \"boolean\") {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n\r\n            (function() {\r\n                for (var i = 0, l = list.length; i < l; i++) {\r\n                    var singleItem = list[i];\r\n                    if (!singleItem.parentId) {\r\n                        listData.push(singleItem);\r\n                    } else {\r\n                        subsData.push(singleItem);\r\n                    }\r\n                }\r\n            })(list);\r\n\r\n            var getBoolean = function(value) {\r\n                if (value === \"true\") {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n\r\n            listData.forEach(function(item, index) {\r\n                var dataId = item.id;\r\n                var subs = [];\r\n                if (isBoolean(item.id)) {\r\n                    if (getBoolean(item.id) === value) {\r\n                        item.selected = true;\r\n                        item.id = value;\r\n                    }\r\n                } else {\r\n                    if (item.id === value) {\r\n                        item.selected = true;\r\n                    } else {\r\n                        subsData.forEach(function(d) {\r\n                            if (dataId === d.parentId) {\r\n                                subs.push(d);\r\n                            }\r\n                            if (d.id === value && d.parentId === item.id) {\r\n                                d.selected = true;\r\n                                item.selected = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                item.subs = subs;\r\n\r\n            });\r\n            return listData;\r\n        },\r\n\r\n        createSearch: function(value, disabled) {\r\n            var searchData = this._getSearchData(value);\r\n            var className = \"mas_input_search select2-container--default\";\r\n            if (disabled) {\r\n                className = \"mas_input_search select2-container--default select2-container--disabled\";\r\n            }\r\n            var $html = Util.replace(searchInputHtml, {\r\n                className: className,\r\n                searchDataValue: searchData.value,\r\n                searchDataId: searchData.id,\r\n                searchDataname: searchData.name\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        _getSearchData: function(value) {\r\n            var searchData = {};\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            if (value === \"benchmark\") {\r\n                searchData.name = defaultSetting.benchmarkName;\r\n                searchData.id = defaultSetting.benchmarkId;\r\n            } else if (value === \"freePoxy\") {\r\n                searchData.name = defaultSetting.riskFreeProxyName;\r\n                searchData.id = defaultSetting.riskFreeProxyId;\r\n            } else {\r\n                searchData.name = \"\";\r\n                searchData.id = null;\r\n            }\r\n            searchData.value = value;\r\n            return searchData;\r\n        },\r\n\r\n\r\n        createSwitch: function(data, value) {\r\n            var selectedItem = [];\r\n            var unselectedItem = [];\r\n            var list = data.list;\r\n            var getBoolean = function(value) {\r\n                if (value === \"true\") {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n            for (var i = 0, l = list.length; i < l; i++) {\r\n                var item = list[i];\r\n                if (getBoolean(item.id) === value) {\r\n                    selectedItem = item;\r\n                } else {\r\n                    unselectedItem = item;\r\n                }\r\n            }\r\n            var className = \"switch switch-inline\";\r\n            var valueName = unselectedItem.name;\r\n            if (value) {\r\n                className = \"switch switch-inline selected\";\r\n            }\r\n            var $html = Util.replace(switchHtml, {\r\n                className: className,\r\n                valueName: valueName,\r\n                dataId: data.id,\r\n                selectedItemName: selectedItem.name,\r\n                selectedItemId: selectedItem.id,\r\n                unselectedItemName: unselectedItem.name,\r\n                unselectedItemId: unselectedItem.id\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        createInputText: function(data, value) {\r\n            var $html = '<div data-value=\"{dataValue}\">' +\r\n                '<input class=\"mas-input-text form-control\" type=\"text\" value={value}></input></div>';\r\n            return Util.replace($html, {\r\n                value: value || \"\",\r\n                datdataValue: \"\"\r\n            });\r\n        }\r\n\r\n    };\r\n    return eventHandler;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/js/create_dom_handler.js\n// module id = 14\n// module chunks = 0","module.exports = \"<div class='{className}' data-value='{searchDataValue}' data-id='{searchDataId}'>\\r\\n    <span class='select2-selection--single clearfix'>\\r\\n        <span class='pull-left select-text select2-selection__rendered'>{searchDataname}\\r\\n        </span>\\r\\n        <span class='pull-right select-icon ic-walkMe-search'></span>\\r\\n    </span>\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/search-input.html\n// module id = 15\n// module chunks = 0","module.exports = \"<div data-value=\\\"{dataValue}\\\">\\r\\n    {RadioSelectContent}\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/radio-select.html\n// module id = 16\n// module chunks = 0","module.exports = \"<div class='input-text select2-container--default'>\\r\\n    <span class='mas_select select2-selection--single clearfix'>\\r\\n        <span class='pull-left select-text select2-selection__rendered'> {selcteValue} </span>\\r\\n    \\t<span class='pull-right select-icon ic-arrow-down-sm'></span>\\r\\n\\t</span>\\r\\n    <div class='mas_input select select-theme-default' data-value='{dataId}'>\\r\\n        <div class='select-content'>\\r\\n            <ul class='select-options'>{$ul}</ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/combox-select.html\n// module id = 17\n// module chunks = 0","module.exports = \"<div class='{className}' data-id='{dataId}'>\\r\\n    <div class='mas_switch switch-content'>\\r\\n        <div class='switch-center'></div>\\r\\n    </div>\\r\\n    <span data-value='{selectedItemName}:{selectedItemId}' data-false-value='{unselectedItemName}:{unselectedItemId}'>{valueName} </span>\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/switch.html\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}