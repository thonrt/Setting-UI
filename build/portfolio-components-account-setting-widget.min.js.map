{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///portfolio-components-account-setting-widget.min.js","webpack:///webpack/bootstrap 1dd8a8113fa1e5ee2518","webpack:///./components/account-setting-widget/src/index.js","webpack:///external \"morningstar\"","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.js","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.css?8a3a","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.css","webpack:///./~/css-loader/cssToString.js","webpack:///./~/style-loader/addStyles.js","webpack:///external \"portfolio-components-common\"","webpack:///./components/account-setting-widget/src/widget/account-setting-widget-data-model.js","webpack:///./components/account-setting-widget/src/widget/account-setting-widget.html","webpack:///./components/account-setting-widget/src/html/account-setting-content.html","webpack:///./components/account-setting-widget/src/html/general_setting.html","webpack:///./components/account-setting-widget/src/html/calculation_setting.html","webpack:///./components/account-setting-widget/src/js/event-handler-dom.js","webpack:///./components/account-setting-widget/src/js/create_dom_handler.js","webpack:///./components/account-setting-widget/src/html/search-input.html","webpack:///./components/account-setting-widget/src/html/radio-select.html","webpack:///./components/account-setting-widget/src/html/combox-select.html","webpack:///./components/account-setting-widget/src/html/switch.html"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","morningstar","portfolioAccountSettingWidget","asterix","register","components","__WEBPACK_AMD_DEFINE_RESULT__","portfolioCommon","WidgetBase","widget","Util","util","DataModel","widgetHtml","accountSettingHtml","generalSetting","calculationSetting","DomEventHandler","DomCreateHandler","AccountSettingWidget","extend","template","initialize","options","accountSettingData","domReady","settingsContainer","$","model","showLoading","_bindEvent","self","on","data","renderAccountSetting","handleHidenAccountSetting","handlePerformanceShowing","hideLoading","get","defaultSetting","$generalSetting","renderGenernalSetting","$calculationSetting","renderCalculateSetting","$html","replace","GeneralSetting","CalculationSettting","append","modelPortfolio","createSearch","separaManAcc","createSwitch","realSMAFlag","portfolioIdentifier","createInputText","cashPerformance","createRadioList","isUseRiskFreeInAg","missingPerData","preMissingReturnOption","gapsInAvaPerformance","afterMissingReturnOption","performanceSource","performanceSourceId","subPerformanceSource","createSubPerfSource","rebFrequency","createSelectList","rebalanceFrequencyId","portfolioCurrency","baseCurrency","performanceBenchmark","riskFreeProxy","importSource","customDataPointForDRI","selectPerformance","attr","selectSubPerformance","$importSource","removeClass","hide","hidenAccSettingList","getHidenAccSettingList","islist","i","l","length","item","hidenDom","css","each","index","e","handlerShowBorderLine","target","height","next","prev","investment","getSetting","portfolioType","prototype","undefined","content","push","list","toString","result","join","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","media","part","obj","styleElement","document","createElement","head","getElementsByTagName","type","appendChild","applyToTag","newObj","removeChild","setAttribute","styleSheet","cssText","firstChild","createTextNode","newList","mayRemove","ModelBase","dataModel","defaults","requestSetting","all_account_settings","cacheId","resource","change_account_setting","apply","arguments","requestAccountSettingData","clearTimeout","timeout_request","setTimeout","requestAccountSettingDataNow","requestData","done","getAccountSetting","set","requestDefaultAccountData","fail","info","showErrorInfo","portfolioId","groupId","source","d_accountSetting","service","accountSetting","putDefaultAccountData","putData","replaceOption","postData","removeAccountSettingDataCache","option","requestOption","getRequestOption","removeCache","accountData","hasOwnProperty","AutoComplete","ui","eventHandler","events","click .mas_select","click .mas_parent_radio.radio","click .mas_sub_radio.radio","click .mas_switch","click .mas_input","click .mas_input_search","click .mas-cancel-btn","click .mas-ok-btn","click .mas_item_list","blur .mas-input-text","_onClickItemList","$currentTarget","currentTarget","dataId","showContainer","hideContainer","siblings","showIcon","find","hideIcon","show","_onShowBenchmark","$elem","hasClass","popup","visible","close","setOption","$el","one","bind","d","html","name","dataValue","setSearchData","keywords","datas","setSearchResult","benchmarkName","benchmarkId","riskFreeProxyName","riskFreeProxyId","_showSelectList","nextNode","is","_onClickSelectList","$curTarget","dataName","slibingsNode","addClass","dataValueDom","getSubPerformanceId","$subRadios","parent","width","$subChild","$firstChild","eq","_onClickRadio","_onClickSubsRadio","_onClickSwitch","parentNode","_onClickCloseBtn","actionHandlerSend","destroy","_onClickSaveBtn","remove","setSetting","_onClickInputText","$target","textValue","val","searchInputHtml","radioSelectHtml","comboxSelectHtml","switchHtml","value","selcteValue","$ul","forEach","key","itemName","className","listData","getListData","$singleRadio","dataClassName","subs","selected","RadioSelectContent","getSubsHtml","$subsRadio","subsClassName","JSON","parse","stringify","subsData","isBoolean","singleItem","parentId","getBoolean","disabled","searchData","_getSearchData","searchDataValue","searchDataId","searchDataname","selectedItem","unselectedItem","valueName","selectedItemName","selectedItemId","unselectedItemName","unselectedItemId","datdataValue"],"mappings":"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","file":"portfolio-components-account-setting-widget.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"morningstar\"), require(\"portfolio-components-common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"portfolio-components-account-setting-widget\", [\"morningstar\", \"portfolio-components-common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"portfolio-components-account-setting-widget\"] = factory(require(\"morningstar\"), require(\"portfolio-components-common\"));\n\telse\n\t\troot[\"portfolio-components-account-setting-widget\"] = factory(root[\"morningstar\"], root[\"portfolio-components-common\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"morningstar\"), require(\"portfolio-components-common\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"portfolio-components-account-setting-widget\", [\"morningstar\", \"portfolio-components-common\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"portfolio-components-account-setting-widget\"] = factory(require(\"morningstar\"), require(\"portfolio-components-common\"));\n\telse\n\t\troot[\"portfolio-components-account-setting-widget\"] = factory(root[\"morningstar\"], root[\"portfolio-components-common\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\r\n\tvar morningstar = __webpack_require__(1);\r\n\tvar portfolioAccountSettingWidget = __webpack_require__(2);\r\n\tmorningstar.asterix.register('portfolioAccountSettingWidget');\r\n\tmorningstar.components.portfolioAccountSettingWidget = portfolioAccountSettingWidget;\r\n\tmodule.exports = portfolioAccountSettingWidget;\r\n\t\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\r\n\t    'use strict';\r\n\t\r\n\t    __webpack_require__(3);\r\n\t    var portfolioCommon = __webpack_require__(7);\r\n\t    var WidgetBase = portfolioCommon.widget.WidgetBase;\r\n\t    var Util = portfolioCommon.util.Util;\r\n\t    var DataModel = __webpack_require__(8);\r\n\t    var widgetHtml = __webpack_require__(9);\r\n\t    var accountSettingHtml = __webpack_require__(10);\r\n\t    var generalSetting = __webpack_require__(11);\r\n\t    var calculationSetting = __webpack_require__(12);\r\n\t    var DomEventHandler = __webpack_require__(13);\r\n\t    var DomCreateHandler = __webpack_require__(14);\r\n\t\r\n\t    var AccountSettingWidget = WidgetBase.extend({\r\n\t        DataModel: DataModel,\r\n\t        template: widgetHtml,\r\n\t\r\n\t        initialize: function(options) {\r\n\t            this.accountSettingData = {};\r\n\t        },\r\n\t\r\n\t        domReady: function() {\r\n\t            //implement\r\n\t            this.settingsContainer = this.$(\".ma-account-setting-content\");\r\n\t            this.model.showLoading();\r\n\t            this._bindEvent();\r\n\t            return this;\r\n\t        },\r\n\t\r\n\t        _bindEvent: function() {\r\n\t\r\n\t            var self = this;\r\n\t            this.model.on(\"change:portfolio_account_setting\", function(model, data) {\r\n\t                self.accountSettingData = data;\r\n\t                self.renderAccountSetting();\r\n\t                self.handleHidenAccountSetting();\r\n\t                self.handlePerformanceShowing();\r\n\t                self.model.hideLoading();\r\n\t            });\r\n\t        },\r\n\t\r\n\t        //==================================================================\r\n\t        renderAccountSetting: function() {\r\n\t\r\n\t            var data = this.model.get(\"all_account_settings\");\r\n\t            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n\t            if (!data || !defaultSetting) {\r\n\t                return this;\r\n\t            }\r\n\t            var $generalSetting = this.renderGenernalSetting();\r\n\t            var $calculationSetting = this.renderCalculateSetting();\r\n\t            var $html = Util.replace(accountSettingHtml, {\r\n\t\r\n\t                GeneralSetting: $generalSetting,\r\n\t                CalculationSettting: $calculationSetting\r\n\t            });\r\n\t            this.settingsContainer.append($html);\r\n\t\r\n\t        },\r\n\t\r\n\t        renderGenernalSetting: function() {\r\n\t            var data = this.model.get(\"all_account_settings\");\r\n\t            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n\t            var self = this;\r\n\t            var $html = Util.replace(generalSetting, {\r\n\t                //when true,disable the click\r\n\t                modelPortfolio: self.createSearch(\"modelPortfolio\", true),\r\n\t                separaManAcc: self.createSwitch(data.realSMAFlag, defaultSetting.realSMAFlag),\r\n\t                portfolioIdentifier: self.createInputText()\r\n\t            });\r\n\t            return $html;\r\n\t        },\r\n\t\r\n\t        renderCalculateSetting: function() {\r\n\t            var data = this.model.get(\"all_account_settings\");\r\n\t            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n\t            var self = this;\r\n\t            var $html = Util.replace(calculationSetting, {\r\n\t                cashPerformance: self.createRadioList(data.isUseRiskFreeInAg, defaultSetting.isUseRiskFreeInAg),\r\n\t                missingPerData: self.createRadioList(data.preMissingReturnOption, defaultSetting.preMissingReturnOption),\r\n\t                gapsInAvaPerformance: self.createRadioList(data.afterMissingReturnOption, defaultSetting.afterMissingReturnOption),\r\n\t                performanceSource: self.createRadioList(data.performanceSourceId, defaultSetting.performanceSourceId),\r\n\t                subPerformanceSource: self.createSubPerfSource(data.performanceSourceId, defaultSetting.performanceSourceId),\r\n\t                rebFrequency: self.createSelectList(data.rebalanceFrequencyId, defaultSetting.rebalanceFrequencyId),\r\n\t                portfolioCurrency: self.createSelectList(data.baseCurrency, defaultSetting.baseCurrency),\r\n\t                performanceBenchmark: self.createSearch(\"benchmark\"),\r\n\t                riskFreeProxy: self.createSearch(\"freePoxy\"),\r\n\t                importSource: self.createSelectList(data.customDataPointForDRI, defaultSetting.customDataPointForDRI)\r\n\t            });\r\n\t            return $html;\r\n\t        },\r\n\t\r\n\t        handlePerformanceShowing: function() {\r\n\t            var selectPerformance = this.$(\".performance_source .mas_parent_radio.selected\").attr(\"data-id\");\r\n\t            var selectSubPerformance = this.$(\".performance_source .mas_sub_radio.selected\").attr(\"data-id\");\r\n\t            var $importSource = this.$(\".import_source\");\r\n\t            if (selectPerformance === \"0\" && selectSubPerformance) {\r\n\t                if (selectSubPerformance !== \"1\") {\r\n\t                    $importSource.removeClass(\"hidden\");\r\n\t                }\r\n\t            }\r\n\t            if (selectPerformance !== \"0\") {\r\n\t                this.$(\".sub_performance_source\").hide();\r\n\t                $importSource.removeClass(\"hidden\");\r\n\t            }\r\n\t        },\r\n\t\r\n\t        handleHidenAccountSetting: function() {\r\n\t            var hidenAccSettingList = this.getHidenAccSettingList();\r\n\t            if (!Util.islist(hidenAccSettingList)) {\r\n\t                this.$(\".item_calculation\").hide();\r\n\t                return this;\r\n\t            }\r\n\t            for (var i = 0, l = hidenAccSettingList.length; i < l; i++) {\r\n\t                var item = hidenAccSettingList[i];\r\n\t                var hidenDom = this.$(\".\" + item);\r\n\t                hidenDom.hide();\r\n\t                hidenDom.css(\"height\", 0);\r\n\t            }\r\n\t\r\n\t            var self = this;\r\n\t            this.$(\".item_general .content_body_item\").each(function(index, e) {\r\n\t                self.handlerShowBorderLine(index, e);\r\n\t            });\r\n\t            this.$(\".item_calculation .content_body_item\").each(function(index, e) {\r\n\t                self.handlerShowBorderLine(index, e);\r\n\t            });\r\n\t            this.$(\".item_calculation\").hide();\r\n\t        },\r\n\t\r\n\t        handlerShowBorderLine: function(index, e) {\r\n\t            var target = $(e);\r\n\t            var height = target.height();\r\n\t            if (height > 0) {\r\n\t                return this;\r\n\t            }\r\n\t            if (index === 0) {\r\n\t                target.next(\".borderItem\").hide();\r\n\t            }\r\n\t            target.prev(\".borderItem\").hide();\r\n\t        },\r\n\t\r\n\t        getHidenAccSettingList: function() {\r\n\t            var investment = this.model.getSetting(\"investment\");\r\n\t            if (!investment) {\r\n\t                return this;\r\n\t            }\r\n\t            var portfolioType = investment.portfolioType;\r\n\t            if (portfolioType === \"model portfolio\") {\r\n\t                return [\"modelPortfolio\", \"separaManAcc\"];\r\n\t            }\r\n\t\r\n\t            if (portfolioType === \"custom benchmark\") {\r\n\t                return [\"modelPortfolio\", \"separaManAcc\", \"cashPerformance\", \"riskFreeProxy\"];\r\n\t            }\r\n\t\r\n\t            return [];\r\n\t        }\r\n\t\r\n\t\r\n\t    });\r\n\t\r\n\t    $.extend(AccountSettingWidget.prototype, DomEventHandler, DomCreateHandler);\r\n\t    return AccountSettingWidget;\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(4);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(6)(content);\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tmodule.hot.accept(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\", function() {\n\t\t\tvar newContent = require(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [module.id, newContent, ''];\n\t\t\tupdate(newContent);\n\t\t});\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(5)();\n\texports.push([module.id, \".ma-account-setting ul{padding:0}.ma-account-setting ul li{list-style-type:none;position:relative}.ma-common-loading-center{margin-top:30%}.ma-account-setting-popupLayout{width:100%;height:100%;background-color:#fff;z-index:3;border-radius:10px;overflow-y:auto}.ma-account-setting-header{overflow:hidden;margin:15px 15px 5px;padding-bottom:4px;border-bottom:2px solid #666}.ma-account-setting-header .mas-ok-btn,.ma-account-setting-header .mas-cancel-btn{margin:0 5px 0 0;font-size:12px;padding:2px 10px;width:50px}.ma-account-setting .ma-account-setting-popupLayout .ma-common-main-block{position:absolute;top:50px;left:0;right:0;z-index:0}.ma-account-setting-content{position:relative}.ma-account-setting-content .content_list{position:absolute;top:0;left:0;width:130px;overflow:hidden}.ma-account-setting-content .content_list .item{margin:8px 15px;padding-bottom:5px;border-bottom:1px solid #666}.ma-account-setting-content .content_list .item .item-icon{margin-top:5px}.ma-account-setting-content .content_body{margin-left:150px}.ma-account-setting .content_body .borderItem{border-top:1px solid #666;margin:15px 150px 10px 0;overflow:hidden}.ma-account-setting .content_body .sub_borderItem{border-top:1px solid #e0dcd7;margin:2px 0;overflow:hidden}.ma-account-setting .content_body_item .item_left,.ma-account-setting .content_body_item .item_right{margin-right:25px}.ma-account-setting .content_body_item .item .sub_item{position:relative;width:320px;font-size:15px}.ma-account-setting .content_body_item .item .switch.switch-inline{padding-left:0}.ma-account-setting .content_body_item .item .radio,.ma-account-setting .content_body_item .item .checkout,.ma-account-setting .content_body_item .item .switch{font-size:13px;padding:5px 8px 0 24px;margin:5px 0}.ma-account-setting .content_body_item .item.switch_item{width:25%}.ma-account-setting .content_body_item .item .title span{padding-bottom:5px}.ma-account-setting .content_body_item .item.item_sub_radio{padding-left:15px}.ma-account-setting .content_body_item .item .mas_sub_radio{margin-left:15px}.ma-account-setting .content_body_item .item .input-text .select2-selection--single{height:25px}.ma-account-setting .content_body_item .item .mas_input .select-content{max-height:230px;overflow:auto}.ma-account-setting .content_body_item .item .select-text{margin:2px 0 0 5px;font-size:13px}.ma-account-setting .content_body_item .item .select-icon{margin-right:3px;margin-top:3px}.ma-account-setting .content_body_item .item .mas_input{position:absolute;top:25px;left:0;z-index:4;width:100%;background-color:#fff;display:none}.ma-account-setting .content_body_item .switch{width:100px}\", \"\"]);\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\treturn list;\r\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {};\r\n\t\r\n\tmodule.exports = function(list) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles);\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j]));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j]));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\t// var sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media/*, sourceMap: sourceMap*/};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tvar head = document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\thead.appendChild(styleElement);\r\n\t\tapplyToTag(styleElement, obj);\r\n\t\treturn function(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media /*&& newObj.sourceMap === obj.sourceMap*/)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tapplyToTag(styleElement, obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\thead.removeChild(styleElement);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\t// var sourceMap = obj.sourceMap;\r\n\t\r\n\t\t// No browser support\r\n\t\t// if(sourceMap && typeof btoa === \"function\") {\r\n\t\t\t// try {\r\n\t\t\t\t// css += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(JSON.stringify(sourceMap)) + \" */\";\r\n\t\t\t// } catch(e) {}\r\n\t\t// }\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t\r\n\t}\r\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\r\n\t    \"use strict\";\r\n\t\r\n\t    var portfolioCommon = __webpack_require__(7);\r\n\t    var ModelBase = portfolioCommon.widget.ModelBase;\r\n\t\r\n\t    var dataModel = ModelBase.extend({\r\n\t\r\n\t        defaults: function() {\r\n\t            return {\r\n\t\r\n\t                requestSetting: {\r\n\t\r\n\t                    //for common request\r\n\t                    all_account_settings: {\r\n\t                        cacheId: \"all_account_settings\",\r\n\t                        resource: \"paapi/v1/portfolios/setting/option\",\r\n\t                        type: \"GET\"\r\n\t                    },\r\n\t\r\n\t                    change_account_setting: {\r\n\t                        resource: \"paapi/v1/portfolios/{portfolioId}/setting\",\r\n\t                        type: \"POST\"\r\n\t                    }\r\n\t                }\r\n\t            };\r\n\t        },\r\n\t\r\n\t\r\n\t        initialize: function() {\r\n\t\r\n\t\r\n\t            ModelBase.prototype.initialize.apply(this, arguments);\r\n\t\r\n\t            //==============================================\r\n\t            this.requestAccountSettingData();\r\n\t            return this;\r\n\t        },\r\n\t\r\n\t\r\n\t        requestAccountSettingData: function() {\r\n\t            clearTimeout(this.timeout_request);\r\n\t            var self = this;\r\n\t            this.timeout_request = setTimeout(function() {\r\n\t                self.requestAccountSettingDataNow();\r\n\t            }, 10);\r\n\t\r\n\t            return this;\r\n\t        },\r\n\t\r\n\t        requestAccountSettingDataNow: function() {\r\n\t            var self = this;\r\n\t            this.requestData(\"all_account_settings\").done(function(data) {\r\n\t                var accountSettingData = self.getAccountSetting(data);\r\n\t                self.set(\"all_account_settings\", accountSettingData);\r\n\t                self.requestDefaultAccountData();\r\n\t            }).fail(function(info) {\r\n\t                self.hideLoading();\r\n\t                self.showErrorInfo(\"Setting now available, please try aigain\");\r\n\t                console.log(\"Request account setting  fail:\", info);\r\n\t            });\r\n\t        },\r\n\t\r\n\t        requestDefaultAccountData: function() {\r\n\t            var self = this;\r\n\t            var portfolioId = this.getSetting(\"portfolioId\");\r\n\t            var groupId = this.getSetting(\"groupId\");\r\n\t            var source = this.getSetting(\"source\");\r\n\t            var d_accountSetting = this.service.requestAccountSettingData({\r\n\t                portfolioId: portfolioId,\r\n\t                groupId: groupId,\r\n\t                source: source\r\n\t            });\r\n\t            d_accountSetting.done(function(accountSetting) {\r\n\t                self.set(\"portfolio_account_setting\", accountSetting);\r\n\t            }).fail(function(info) {\r\n\t                self.hideLoading();\r\n\t                self.showErrorInfo(\"Setting now available, please try aigain\");\r\n\t                console.log(\"Request default account setting fail:\", info);\r\n\t            });\r\n\t        },\r\n\t\r\n\t        putDefaultAccountData: function(putData) {\r\n\t            var portfolioId = this.getSetting(\"portfolioId\");\r\n\t            var replaceOption = {\r\n\t                portfolioId: portfolioId,\r\n\t                postData: putData\r\n\t            };\r\n\t            return this.requestData(\"change_account_setting\", replaceOption);\r\n\t        },\r\n\t\r\n\t        removeAccountSettingDataCache: function(option) {\r\n\t            if (!option) {\r\n\t                return this;\r\n\t            }\r\n\t            var requestOption = this.getRequestOption(\"account_setting\", option);\r\n\t            var cacheId = requestOption.cacheId;\r\n\t            this.removeCache(cacheId);\r\n\t        },\r\n\t\r\n\t        getAccountSetting: function(data) {\r\n\t            if (!data) {\r\n\t                return this;\r\n\t            }\r\n\t            var accountData = {};\r\n\t\r\n\t            for (var item in data) {\r\n\t                if (data.hasOwnProperty(item)) {\r\n\t                    accountData[item] = {};\r\n\t                    accountData[item].id = item;\r\n\t                    accountData[item].list = data[item];\r\n\t                }\r\n\t            }\r\n\t\r\n\t            return accountData;\r\n\t        }\r\n\t    });\r\n\t\r\n\t    return dataModel;\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=ma-account-setting><div data-widget-view=default_view view-type=chart class=ma-account-setting-popupLayout><div class=\\\"ma-account-setting-header clearfix\\\"><div class=pull-left><span>Account Settings</span></div><div class=\\\"pull-right clearfix\\\"><div class=pull-left><button data-id=cancel-btn class=\\\"mas-cancel-btn btn btn-default\\\">Cancel</button></div><div class=pull-left><button data-id=ok-btn class=\\\"mas-ok-btn btn btn-default\\\">Save</button></div></div></div><div class=\\\"ma-account-setting-content ma-common-main-block\\\"></div></div></div>\";\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=account_setting_content><div class=content_list><div class=\\\"item mas_item_list clearfix\\\" data-id=item_general><div class=\\\"item-text pull-left\\\">General</div><div class=\\\"item-icon ic-arrow-right-sm pull-right\\\"></div></div><div class=\\\"item mas_item_list clearfix\\\" data-id=item_calculation><div class=\\\"item-text pull-left\\\">Calculation</div><div class=\\\"item-icon ic-arrow-right-sm pull-right\\\" style=display:none></div></div></div><div class=content_body><div class=item_general>{GeneralSetting}</div><div class=item_calculation>{CalculationSettting}</div></div></div>\";\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div data-id=general_content><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left portfolioIdentifier\\\"><div class=title><span>Portfolio Identifier</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{portfolioIdentifier}</div></div></div><div class=\\\"pull-left item_right modelPortfolio\\\"><div class=title><span>Model Portfolio</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{modelPortfolio}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item separaManAcc clearfix\\\"><div class=title><span>Separately Mananged Account</span></div><div class=\\\"item switch_item\\\"><div class=sub_borderItem></div><div class=sub_item>{separaManAcc}</div></div></div></div>\";\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div data-id=calculation_content><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left portfolioCurrency\\\"><div class=title><span>Portfolio Currency</span></div><div class=\\\"item item_sub_select\\\"><div class=sub_borderItem></div><div class=sub_item>{portfolioCurrency}</div></div></div><div class=\\\"pull-left item_right performanceBenchmark\\\"><div class=title><span>Performance Benchmark</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{performanceBenchmark}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left riskFreeProxy\\\"><div class=title><span>Risk-Free Proxy</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{riskFreeProxy}</div></div></div><div class=\\\"pull-left item_right cashPerformance\\\"><div class=title><span>Cash Performance</span></div><div class=\\\"pull-left item item_sub\\\"><div class=sub_borderItem></div><div class=sub_item>{cashPerformance}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left performanceSource\\\"><div class=title><span>Performance Source</span></div><div class=sub_borderItem></div><div class=\\\"item performance_source\\\"><div class=\\\"sub_item pull-left\\\">{performanceSource}</div><div class=\\\"sub_item pull-left sub_performance_source\\\">{subPerformanceSource}</div></div></div><div class=\\\"pull-left item_right import_source hidden importSource\\\"><div class=title><span>Import Source</span></div><div class=\\\"item item_sub\\\"><div class=sub_borderItem></div><div class=sub_item>{importSource}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left missingPerData\\\"><div class=title><span>Missing Performance Data</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{missingPerData}</div></div></div><div class=\\\"pull-left item_right gapsInAvaPerformance\\\"><div class=title><span>Gaps In Available Performance</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{gapsInAvaPerformance}</div></div></div><div class=\\\"pull-left item_right rebFrequency\\\"><div class=title><span>Rebalancing Frequency</span></div><div class=\\\"item item_sub\\\"><div class=sub_borderItem></div><div class=sub_item>{rebFrequency}</div></div></div></div></div>\";\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\r\n\t    \"use strict\";\r\n\t    var portfolioCommon = __webpack_require__(7);\r\n\t    var AutoComplete = portfolioCommon.ui.AutoComplete;\r\n\t\r\n\t    var eventHandler = {\r\n\t        events: {\r\n\t            \"click .mas_select\": \"_showSelectList\",\r\n\t            \"click .mas_parent_radio.radio\": \"_onClickRadio\",\r\n\t            \"click .mas_sub_radio.radio\": \"_onClickSubsRadio\",\r\n\t            \"click .mas_switch\": \"_onClickSwitch\",\r\n\t            \"click .mas_input\": \"_onClickSelectList\",\r\n\t            \"click .mas_input_search\": \"_onShowBenchmark\",\r\n\t            \"click .mas-cancel-btn\": \"_onClickCloseBtn\",\r\n\t            \"click .mas-ok-btn\": \"_onClickSaveBtn\",\r\n\t            \"click .mas_item_list\": \"_onClickItemList\",\r\n\t            \"blur .mas-input-text\": \"_onClickInputText\"\r\n\t        },\r\n\t\r\n\t        _onClickItemList: function(e) {\r\n\t            var $currentTarget = $(e.currentTarget);\r\n\t            var dataId = $currentTarget.attr(\"data-id\");\r\n\t            var showContainer = this.$(\".\" + dataId);\r\n\t            var hideContainer = this.$(\".\" + dataId).siblings();\r\n\t            var showIcon = $currentTarget.find(\".item-icon\");\r\n\t            var hideIcon = $currentTarget.siblings().find(\".item-icon\");\r\n\t            showIcon.show();\r\n\t            hideIcon.hide();\r\n\t            showContainer.show();\r\n\t            hideContainer.hide();\r\n\t            return this;\r\n\t        },\r\n\t\r\n\t        _onShowBenchmark: function(e) {\r\n\t            var $elem = $(e.currentTarget);\r\n\t            if ($elem.hasClass(\"select2-container--disabled\")) {\r\n\t                return this;\r\n\t            }\r\n\t            if (this.popup && this.popup.visible) {\r\n\t                this.popup.close();\r\n\t                return this;\r\n\t            }\r\n\t\r\n\t            var option = {\r\n\t                target: $elem,\r\n\t                type: \"account_setting\"\r\n\t            };\r\n\t            this.popup = new AutoComplete();\r\n\t            this.popup.setOption(option);\r\n\t            var self = this;\r\n\t            $(this.$el).one(\"click\", function() {\r\n\t                if (self.popup && self.popup.visible) {\r\n\t                    self.popup.close();\r\n\t                }\r\n\t                return false;\r\n\t            });\r\n\t            this.popup.bind(\"close\", function() {\r\n\t                this.popup = null;\r\n\t            }).bind(\"change\", function(e, d) {\r\n\t                $elem.find(\".select-text\").html(d.name || \"\");\r\n\t                var dataValue = $elem.attr(\"data-value\");\r\n\t                self.setSearchData(dataValue, d);\r\n\t            }).bind(\"search_data\", function(e, keywords) {\r\n\t                self.model.requestData(\"search_portfolios\", {\r\n\t                    keywords: keywords\r\n\t                }).done(function(d) {\r\n\t                    if (d && d.datas) {\r\n\t                        self.popup.setSearchResult(d.datas);\r\n\t                    }\r\n\t                }).fail(function() {\r\n\t                    console.log(\"requestData search_portfolios fail:\", keywords);\r\n\t                });\r\n\t            });\r\n\t            this.popup.show();\r\n\t            return this;\r\n\t        },\r\n\t\r\n\t        setSearchData: function(dataValue, d) {\r\n\t            if (dataValue === \"benchmark\") {\r\n\t                this.accountSettingData.benchmarkName = d.name;\r\n\t                this.accountSettingData.benchmarkId = d.id;\r\n\t                return this;\r\n\t            }\r\n\t            if (dataValue === \"freePoxy\") {\r\n\t                this.accountSettingData.riskFreeProxyName = d.name;\r\n\t                this.accountSettingData.riskFreeProxyId = d.id;\r\n\t                return this;\r\n\t            }\r\n\t        },\r\n\t\r\n\t\r\n\t        _showSelectList: function(e, d) {\r\n\t            var target = e.currentTarget;\r\n\t            var nextNode = $(target).next();\r\n\t            if (nextNode.is(\":visible\")) {\r\n\t                nextNode.hide();\r\n\t                return;\r\n\t            }\r\n\t            this.$(\".input-text .input-content\").hide();\r\n\t            nextNode.show();\r\n\t            $(this.$el).one(\"click\", function() {\r\n\t                nextNode.hide();\r\n\t                return false;\r\n\t            });\r\n\t        },\r\n\t\r\n\t        _onClickSelectList: function(e) {\r\n\t\r\n\t            var $elem = $(e.target);\r\n\t            var $curTarget = $(e.currentTarget);\r\n\t            var dataName = $curTarget.attr(\"data-value\");\r\n\t            var dataId = $elem.attr(\"data-id\");\r\n\t            var dataValue = $elem.attr(\"data-value\");\r\n\t            this.accountSettingData[dataName] = dataId;\r\n\t\r\n\t            var slibingsNode = $elem.siblings();\r\n\t            $elem.addClass(\"select-option-selected\");\r\n\t            slibingsNode.removeClass(\"select-option-selected\");\r\n\t            $curTarget.hide();\r\n\t            var dataValueDom = $curTarget.prev().find(\".select-text\");\r\n\t            dataValueDom.html(dataValue);\r\n\t        },\r\n\t\r\n\t        getSubPerformanceId: function($elem, dataName) {\r\n\t            var $subRadios = this.$(\"[data-id=\" + dataName + \"]\");\r\n\t            var dataId = $elem.attr(\"data-id\");\r\n\t            //hide sub Performance source\r\n\t            // this.$(\".sub_performance_source\").hide();\r\n\t            $subRadios.hide();\r\n\t            $subRadios.parent().width(0);\r\n\t\r\n\t            if ($elem.hasClass(\"hasSubRadio\")) {\r\n\t                //show sub Performance source\r\n\t                this.$(\".sub_performance_source\").show();\r\n\t                $subRadios.show();\r\n\t                $subRadios.parent().width(320);\r\n\t\r\n\t\r\n\t                var $subChild = $subRadios.find(\".radio\");\r\n\t                var $firstChild = $subChild.eq(0);\r\n\t\r\n\t                if (!$subChild.hasClass(\"selected\")) {\r\n\t                    $firstChild.addClass(\"selected\");\r\n\t                    dataId = $firstChild.attr(\"data-id\");\r\n\t                } else {\r\n\t                    dataId = $subRadios.find(\".radio.selected\").attr(\"data-id\");\r\n\t                }\r\n\t            }\r\n\t\r\n\t            return dataId;\r\n\t        },\r\n\t\r\n\t\r\n\t        _onClickRadio: function(e) {\r\n\t            var $elem = $(e.target);\r\n\t            var dataName = $elem.parent().attr(\"data-value\");\r\n\t            var dataId = $elem.attr(\"data-id\");\r\n\t\r\n\t            if (dataName === \"performanceSourceId\") {\r\n\t                var $importSource = this.$(\".import_source\");\r\n\t                $importSource.addClass(\"hidden\");\r\n\t                dataId = this.getSubPerformanceId($elem, dataName);\r\n\t                if (dataId === \"3\" || dataId === \"2\") {\r\n\t                    $importSource.removeClass(\"hidden\");\r\n\t                }\r\n\t            }\r\n\t            this.accountSettingData[dataName] = dataId;\r\n\t            var slibingsNode = $elem.siblings();\r\n\t            $elem.addClass(\"selected\");\r\n\t            slibingsNode.removeClass(\"selected\");\r\n\t\r\n\t        },\r\n\t\r\n\t        _onClickSubsRadio: function(e) {\r\n\t            var $elem = $(e.target);\r\n\t            var dataId = $elem.attr(\"data-id\");\r\n\t            var dataName = $elem.parent().attr(\"data-id\");\r\n\t            if ($elem.hasClass(\"disabled\")) {\r\n\t                return this;\r\n\t            }\r\n\t            //show/hide import source\r\n\t            var $importSource = this.$(\".import_source\");\r\n\t            $importSource.addClass(\"hidden\");\r\n\t            if (dataId !== \"1\") {\r\n\t                $importSource.removeClass(\"hidden\");\r\n\t            }\r\n\t\r\n\t            this.accountSettingData[dataName] = dataId;\r\n\t            $elem.addClass(\"selected\");\r\n\t            $elem.siblings().removeClass(\"selected\");\r\n\t        },\r\n\t\r\n\t        _onClickSwitch: function(e) {\r\n\t            var target = e.currentTarget;\r\n\t            var nextNode = $(target).next();\r\n\t            var parentNode = $(target).parent();\r\n\t            var dataName = parentNode.attr(\"data-id\");\r\n\t\r\n\t            if (parentNode.hasClass(\"selected\")) {\r\n\t                parentNode.removeClass(\"selected\");\r\n\t                this.accountSettingData[dataName] = false;\r\n\t                nextNode.html(\"Yes\");\r\n\t                return this;\r\n\t            }\r\n\t            this.accountSettingData[dataName] = true;\r\n\t            parentNode.addClass(\"selected\");\r\n\t            nextNode.html(\"No\");\r\n\t        },\r\n\t\r\n\t\r\n\t        _onClickCloseBtn: function() {\r\n\t            this.model.actionHandlerSend(\"closeContainerModal\", \"cancel\");\r\n\t            this.destroy();\r\n\t            this.model = null;\r\n\t        },\r\n\t\r\n\t\r\n\t        _onClickSaveBtn: function() {\r\n\t            var accountSettingData = this.accountSettingData;\r\n\t            this.model.showLoading();\r\n\t            this.$(\".account_setting_content\").remove();\r\n\t            this.model.setSetting(\"accountSettingData\", accountSettingData);\r\n\t            var self = this;\r\n\t            var option = {\r\n\t                portfolioId: this.model.getSetting(\"portfolioId\"),\r\n\t                groupId: this.model.getSetting(\"groupId\"),\r\n\t                source: this.model.getSetting(\"source\")\r\n\t            };\r\n\t            this.model.putDefaultAccountData(accountSettingData).done(function() {\r\n\t                self.model.actionHandlerSend(\"closeContainerModal\", \"save\");\r\n\t                self.model.removeAccountSettingDataCache(option);\r\n\t                self.model = null;\r\n\t            }).fail(function() {\r\n\t                self.model.hideLoading();\r\n\t                self.model.showErrorInfo(\"Put setting failed, please try aigain\");\r\n\t            });\r\n\t        },\r\n\t\r\n\t        _onClickInputText: function(e) {\r\n\t            var $target = $(e.target);\r\n\t            var dataName = $target.parent().attr(\"data-value\");\r\n\t            if (!dataName) {\r\n\t                return this;\r\n\t            }\r\n\t            var textValue = $target.val();\r\n\t            this.accountSettingData[dataName] = textValue;\r\n\t\r\n\t        }\r\n\t    };\r\n\t\r\n\t    return eventHandler;\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\r\n\t    'use strict';\r\n\t\r\n\t    var portfolioCommon = __webpack_require__(7);\r\n\t    var Util = portfolioCommon.util.Util;\r\n\t    var searchInputHtml = __webpack_require__(15);\r\n\t    var radioSelectHtml = __webpack_require__(16);\r\n\t    var comboxSelectHtml = __webpack_require__(17);\r\n\t    var switchHtml = __webpack_require__(18);\r\n\t\r\n\t    var eventHandler = {\r\n\t        createSelectList: function(data, value) {\r\n\t\r\n\t            var list = data.list;\r\n\t\r\n\t            var selcteValue = \"\";\r\n\t            var $ul = \"\";\r\n\t            if (Util.islist(list)) {\r\n\t                list.forEach(function(item, key) {\r\n\t                    var itemName = item.name;\r\n\t                    var className = \"select-option\";\r\n\t                    if (item.id === value) {\r\n\t                        selcteValue = itemName;\r\n\t                        className = \"select-option select-option-selected\";\r\n\t                    }\r\n\t                    $ul += \"<li class='\" + className + \"' data-value='\" + itemName + \"' data-id='\" + item.id + \"'>\" + itemName + \"</li>\";\r\n\t                });\r\n\t            }\r\n\t\r\n\t            var $html = Util.replace(comboxSelectHtml, {\r\n\t                selcteValue: selcteValue,\r\n\t                dataId: data.id,\r\n\t                $ul: $ul\r\n\t            });\r\n\t\r\n\t            return $html;\r\n\t        },\r\n\t\r\n\t        createRadioList: function(data, value) {\r\n\t            if (!data || !data.list) {\r\n\t                return this;\r\n\t            }\r\n\t            var list = data.list;\r\n\t            var listData = this.getListData(list, value);\r\n\t            if (!Util.islist(listData)) {\r\n\t                return this;\r\n\t            }\r\n\t            var $singleRadio = \"<div class='{dataClassName}' data-id='{dataId}'>\" +\r\n\t                \" <span> {dataName} </span> </div>\";\r\n\t            var $html = \"\";\r\n\t\r\n\t            listData.forEach(function(item) {\r\n\t                var dataClassName = \"mas_parent_radio radio\";\r\n\t                if (Util.islist(item.subs)) {\r\n\t                    dataClassName += \" hasSubRadio\";\r\n\t                }\r\n\t                if (item.selected) {\r\n\t                    dataClassName += \" selected\";\r\n\t                }\r\n\t                $html += Util.replace($singleRadio, {\r\n\t                    dataId: item.id,\r\n\t                    dataName: item.name,\r\n\t                    dataClassName: dataClassName\r\n\t\r\n\t                });\r\n\t            });\r\n\t            return Util.replace(radioSelectHtml, {\r\n\t                RadioSelectContent: $html,\r\n\t                dataValue: data.id\r\n\t            });\r\n\t        },\r\n\t\r\n\t        createSubPerfSource: function(data, value) {\r\n\t            if (!data || !data.list) {\r\n\t                return this;\r\n\t            }\r\n\t            var listData = this.getListData(data.list, value);\r\n\t            if (!Util.islist(listData)) {\r\n\t                return this;\r\n\t            }\r\n\t            var getSubsHtml = function(item) {\r\n\t                var list = item.subs;\r\n\t                if (!Util.islist(list)) {\r\n\t                    return this;\r\n\t                }\r\n\t                var show = item.selected ? \"block\" : \"none\";\r\n\t                var $subsRadio = \"<div data-id=\" + data.id + \" style='display:\" + show + \"'>\";\r\n\t                list.forEach(function(d) {\r\n\t                    var subsClassName = \"mas_sub_radio radio\";\r\n\t                    if (d.selected) {\r\n\t                        subsClassName = \"mas_sub_radio radio selected\";\r\n\t                    }\r\n\t                    $subsRadio += \"<div class='\" + subsClassName + \"' data-id='\" + d.id + \"'>\" + d.name + \"</div>\";\r\n\t                });\r\n\t                return $subsRadio + \"</div>\";\r\n\t            };\r\n\t            var $html = \"\";\r\n\t            listData.forEach(function(item) {\r\n\t                if (Util.islist(item.subs)) {\r\n\t                    $html = getSubsHtml(item);\r\n\t                }\r\n\t            });\r\n\t\r\n\t            return $html;\r\n\t\r\n\t        },\r\n\t\r\n\t        getListData: function(list, value) {\r\n\t\r\n\t            list = JSON.parse(JSON.stringify(list));\r\n\t            var listData = [];\r\n\t            var subsData = [];\r\n\t\r\n\t            var isBoolean = function(value) {\r\n\t                if (value === \"true\" || value === \"false\") {\r\n\t                    return true;\r\n\t                }\r\n\t                if (typeof(value) === \"boolean\") {\r\n\t                    return true;\r\n\t                }\r\n\t                return false;\r\n\t            };\r\n\t\r\n\t            (function() {\r\n\t                for (var i = 0, l = list.length; i < l; i++) {\r\n\t                    var singleItem = list[i];\r\n\t                    if (!singleItem.parentId) {\r\n\t                        listData.push(singleItem);\r\n\t                    } else {\r\n\t                        subsData.push(singleItem);\r\n\t                    }\r\n\t                }\r\n\t            })(list);\r\n\t\r\n\t            var getBoolean = function(value) {\r\n\t                if (value === \"true\") {\r\n\t                    return true;\r\n\t                }\r\n\t                return false;\r\n\t            };\r\n\t\r\n\t            listData.forEach(function(item, index) {\r\n\t                var dataId = item.id;\r\n\t                var subs = [];\r\n\t                if (isBoolean(item.id)) {\r\n\t                    if (getBoolean(item.id) === value) {\r\n\t                        item.selected = true;\r\n\t                        item.id = value;\r\n\t                    }\r\n\t                } else {\r\n\t                    if (item.id === value) {\r\n\t                        item.selected = true;\r\n\t                    } else {\r\n\t                        subsData.forEach(function(d) {\r\n\t                            if (dataId === d.parentId) {\r\n\t                                subs.push(d);\r\n\t                            }\r\n\t                            if (d.id === value && d.parentId === item.id) {\r\n\t                                d.selected = true;\r\n\t                                item.selected = true;\r\n\t                            }\r\n\t                        });\r\n\t                    }\r\n\t                }\r\n\t                item.subs = subs;\r\n\t\r\n\t            });\r\n\t            return listData;\r\n\t        },\r\n\t\r\n\t        createSearch: function(value, disabled) {\r\n\t            var searchData = this._getSearchData(value);\r\n\t            var className = \"mas_input_search select2-container--default\";\r\n\t            if (disabled) {\r\n\t                className = \"mas_input_search select2-container--default select2-container--disabled\";\r\n\t            }\r\n\t            var $html = Util.replace(searchInputHtml, {\r\n\t                className: className,\r\n\t                searchDataValue: searchData.value,\r\n\t                searchDataId: searchData.id,\r\n\t                searchDataname: searchData.name\r\n\t            });\r\n\t            return $html;\r\n\t        },\r\n\t\r\n\t        _getSearchData: function(value) {\r\n\t            var searchData = {};\r\n\t            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n\t            if (value === \"benchmark\") {\r\n\t                searchData.name = defaultSetting.benchmarkName;\r\n\t                searchData.id = defaultSetting.benchmarkId;\r\n\t            } else if (value === \"freePoxy\") {\r\n\t                searchData.name = defaultSetting.riskFreeProxyName;\r\n\t                searchData.id = defaultSetting.riskFreeProxyId;\r\n\t            } else {\r\n\t                searchData.name = \"\";\r\n\t                searchData.id = null;\r\n\t            }\r\n\t            searchData.value = value;\r\n\t            return searchData;\r\n\t        },\r\n\t\r\n\t\r\n\t        createSwitch: function(data, value) {\r\n\t            var selectedItem = [];\r\n\t            var unselectedItem = [];\r\n\t            var list = data.list;\r\n\t            var getBoolean = function(value) {\r\n\t                if (value === \"true\") {\r\n\t                    return true;\r\n\t                }\r\n\t                return false;\r\n\t            };\r\n\t            for (var i = 0, l = list.length; i < l; i++) {\r\n\t                var item = list[i];\r\n\t                if (getBoolean(item.id) === value) {\r\n\t                    selectedItem = item;\r\n\t                } else {\r\n\t                    unselectedItem = item;\r\n\t                }\r\n\t            }\r\n\t            var className = \"switch switch-inline\";\r\n\t            var valueName = unselectedItem.name;\r\n\t            if (value) {\r\n\t                className = \"switch switch-inline selected\";\r\n\t            }\r\n\t            var $html = Util.replace(switchHtml, {\r\n\t                className: className,\r\n\t                valueName: valueName,\r\n\t                dataId: data.id,\r\n\t                selectedItemName: selectedItem.name,\r\n\t                selectedItemId: selectedItem.id,\r\n\t                unselectedItemName: unselectedItem.name,\r\n\t                unselectedItemId: unselectedItem.id\r\n\t            });\r\n\t            return $html;\r\n\t        },\r\n\t\r\n\t        createInputText: function(data, value) {\r\n\t            var $html = '<div data-value=\"{dataValue}\">' +\r\n\t                '<input class=\"mas-input-text form-control\" type=\"text\" value={value}></input></div>';\r\n\t            return Util.replace($html, {\r\n\t                value: value || \"\",\r\n\t                datdataValue: \"\"\r\n\t            });\r\n\t        }\r\n\t\r\n\t    };\r\n\t    return eventHandler;\r\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class={className} data-value={searchDataValue} data-id={searchDataId}><span class=\\\"select2-selection--single clearfix\\\"><span class=\\\"pull-left select-text select2-selection__rendered\\\">{searchDataname}</span> <span class=\\\"pull-right select-icon ic-walkMe-search\\\"></span></span></div>\";\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div data-value={dataValue}>{RadioSelectContent}</div>\";\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"input-text select2-container--default\\\"><span class=\\\"mas_select select2-selection--single clearfix\\\"><span class=\\\"pull-left select-text select2-selection__rendered\\\">{selcteValue}</span> <span class=\\\"pull-right select-icon ic-arrow-down-sm\\\"></span></span><div class=\\\"mas_input select select-theme-default\\\" data-value={dataId}><div class=select-content><ul class=select-options>{$ul}</ul></div></div></div>\";\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class={className} data-id={dataId}><div class=\\\"mas_switch switch-content\\\"><div class=switch-center></div></div><span data-value={selectedItemName}:{selectedItemId} data-false-value={unselectedItemName}:{unselectedItemId}>{valueName}</span></div>\";\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// portfolio-components-account-setting-widget.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1dd8a8113fa1e5ee2518","'use strict';\r\nvar morningstar = require(\"morningstar\");\r\nvar portfolioAccountSettingWidget = require('./widget/account-setting-widget.js');\r\nmorningstar.asterix.register('portfolioAccountSettingWidget');\r\nmorningstar.components.portfolioAccountSettingWidget = portfolioAccountSettingWidget;\r\nmodule.exports = portfolioAccountSettingWidget;\r\n\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/index.js\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morningstar\"\n// module id = 1\n// module chunks = 0","define(function() {\r\n    'use strict';\r\n\r\n    require('./account-setting-widget.css');\r\n    var portfolioCommon = require('portfolio-components-common');\r\n    var WidgetBase = portfolioCommon.widget.WidgetBase;\r\n    var Util = portfolioCommon.util.Util;\r\n    var DataModel = require(\"./account-setting-widget-data-model.js\");\r\n    var widgetHtml = require(\"./account-setting-widget.html\");\r\n    var accountSettingHtml = require(\"../html/account-setting-content.html\");\r\n    var generalSetting = require(\"../html/general_setting.html\");\r\n    var calculationSetting = require(\"../html/calculation_setting.html\");\r\n    var DomEventHandler = require(\"../js/event-handler-dom.js\");\r\n    var DomCreateHandler = require(\"../js/create_dom_handler.js\");\r\n\r\n    var AccountSettingWidget = WidgetBase.extend({\r\n        DataModel: DataModel,\r\n        template: widgetHtml,\r\n\r\n        initialize: function(options) {\r\n            this.accountSettingData = {};\r\n        },\r\n\r\n        domReady: function() {\r\n            //implement\r\n            this.settingsContainer = this.$(\".ma-account-setting-content\");\r\n            this.model.showLoading();\r\n            this._bindEvent();\r\n            return this;\r\n        },\r\n\r\n        _bindEvent: function() {\r\n\r\n            var self = this;\r\n            this.model.on(\"change:portfolio_account_setting\", function(model, data) {\r\n                self.accountSettingData = data;\r\n                self.renderAccountSetting();\r\n                self.handleHidenAccountSetting();\r\n                self.handlePerformanceShowing();\r\n                self.model.hideLoading();\r\n            });\r\n        },\r\n\r\n        //==================================================================\r\n        renderAccountSetting: function() {\r\n\r\n            var data = this.model.get(\"all_account_settings\");\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            if (!data || !defaultSetting) {\r\n                return this;\r\n            }\r\n            var $generalSetting = this.renderGenernalSetting();\r\n            var $calculationSetting = this.renderCalculateSetting();\r\n            var $html = Util.replace(accountSettingHtml, {\r\n\r\n                GeneralSetting: $generalSetting,\r\n                CalculationSettting: $calculationSetting\r\n            });\r\n            this.settingsContainer.append($html);\r\n\r\n        },\r\n\r\n        renderGenernalSetting: function() {\r\n            var data = this.model.get(\"all_account_settings\");\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            var self = this;\r\n            var $html = Util.replace(generalSetting, {\r\n                //when true,disable the click\r\n                modelPortfolio: self.createSearch(\"modelPortfolio\", true),\r\n                separaManAcc: self.createSwitch(data.realSMAFlag, defaultSetting.realSMAFlag),\r\n                portfolioIdentifier: self.createInputText()\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        renderCalculateSetting: function() {\r\n            var data = this.model.get(\"all_account_settings\");\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            var self = this;\r\n            var $html = Util.replace(calculationSetting, {\r\n                cashPerformance: self.createRadioList(data.isUseRiskFreeInAg, defaultSetting.isUseRiskFreeInAg),\r\n                missingPerData: self.createRadioList(data.preMissingReturnOption, defaultSetting.preMissingReturnOption),\r\n                gapsInAvaPerformance: self.createRadioList(data.afterMissingReturnOption, defaultSetting.afterMissingReturnOption),\r\n                performanceSource: self.createRadioList(data.performanceSourceId, defaultSetting.performanceSourceId),\r\n                subPerformanceSource: self.createSubPerfSource(data.performanceSourceId, defaultSetting.performanceSourceId),\r\n                rebFrequency: self.createSelectList(data.rebalanceFrequencyId, defaultSetting.rebalanceFrequencyId),\r\n                portfolioCurrency: self.createSelectList(data.baseCurrency, defaultSetting.baseCurrency),\r\n                performanceBenchmark: self.createSearch(\"benchmark\"),\r\n                riskFreeProxy: self.createSearch(\"freePoxy\"),\r\n                importSource: self.createSelectList(data.customDataPointForDRI, defaultSetting.customDataPointForDRI)\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        handlePerformanceShowing: function() {\r\n            var selectPerformance = this.$(\".performance_source .mas_parent_radio.selected\").attr(\"data-id\");\r\n            var selectSubPerformance = this.$(\".performance_source .mas_sub_radio.selected\").attr(\"data-id\");\r\n            var $importSource = this.$(\".import_source\");\r\n            if (selectPerformance === \"0\" && selectSubPerformance) {\r\n                if (selectSubPerformance !== \"1\") {\r\n                    $importSource.removeClass(\"hidden\");\r\n                }\r\n            }\r\n            if (selectPerformance !== \"0\") {\r\n                this.$(\".sub_performance_source\").hide();\r\n                $importSource.removeClass(\"hidden\");\r\n            }\r\n        },\r\n\r\n        handleHidenAccountSetting: function() {\r\n            var hidenAccSettingList = this.getHidenAccSettingList();\r\n            if (!Util.islist(hidenAccSettingList)) {\r\n                this.$(\".item_calculation\").hide();\r\n                return this;\r\n            }\r\n            for (var i = 0, l = hidenAccSettingList.length; i < l; i++) {\r\n                var item = hidenAccSettingList[i];\r\n                var hidenDom = this.$(\".\" + item);\r\n                hidenDom.hide();\r\n                hidenDom.css(\"height\", 0);\r\n            }\r\n\r\n            var self = this;\r\n            this.$(\".item_general .content_body_item\").each(function(index, e) {\r\n                self.handlerShowBorderLine(index, e);\r\n            });\r\n            this.$(\".item_calculation .content_body_item\").each(function(index, e) {\r\n                self.handlerShowBorderLine(index, e);\r\n            });\r\n            this.$(\".item_calculation\").hide();\r\n        },\r\n\r\n        handlerShowBorderLine: function(index, e) {\r\n            var target = $(e);\r\n            var height = target.height();\r\n            if (height > 0) {\r\n                return this;\r\n            }\r\n            if (index === 0) {\r\n                target.next(\".borderItem\").hide();\r\n            }\r\n            target.prev(\".borderItem\").hide();\r\n        },\r\n\r\n        getHidenAccSettingList: function() {\r\n            var investment = this.model.getSetting(\"investment\");\r\n            if (!investment) {\r\n                return this;\r\n            }\r\n            var portfolioType = investment.portfolioType;\r\n            if (portfolioType === \"model portfolio\") {\r\n                return [\"modelPortfolio\", \"separaManAcc\"];\r\n            }\r\n\r\n            if (portfolioType === \"custom benchmark\") {\r\n                return [\"modelPortfolio\", \"separaManAcc\", \"cashPerformance\", \"riskFreeProxy\"];\r\n            }\r\n\r\n            return [];\r\n        }\r\n\r\n\r\n    });\r\n\r\n    $.extend(AccountSettingWidget.prototype, DomEventHandler, DomCreateHandler);\r\n    return AccountSettingWidget;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget.js\n// module id = 2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\style-loader\\\\addStyles.js\")(content);\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tmodule.hot.accept(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\", function() {\n\t\tvar newContent = require(\"!!D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\index.js!D:\\\\MA-bella\\\\portfolio-components\\\\components\\\\account-setting-widget\\\\src\\\\widget\\\\account-setting-widget.css\");\n\t\tif(typeof newContent === 'string') newContent = [module.id, newContent, ''];\n\t\tupdate(newContent);\n\t});\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget.css\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"D:\\\\MA-bella\\\\portfolio-components\\\\node_modules\\\\css-loader\\\\cssToString.js\")();\nexports.push([module.id, \".ma-account-setting ul{padding:0}.ma-account-setting ul li{list-style-type:none;position:relative}.ma-common-loading-center{margin-top:30%}.ma-account-setting-popupLayout{width:100%;height:100%;background-color:#fff;z-index:3;border-radius:10px;overflow-y:auto}.ma-account-setting-header{overflow:hidden;margin:15px 15px 5px;padding-bottom:4px;border-bottom:2px solid #666}.ma-account-setting-header .mas-ok-btn,.ma-account-setting-header .mas-cancel-btn{margin:0 5px 0 0;font-size:12px;padding:2px 10px;width:50px}.ma-account-setting .ma-account-setting-popupLayout .ma-common-main-block{position:absolute;top:50px;left:0;right:0;z-index:0}.ma-account-setting-content{position:relative}.ma-account-setting-content .content_list{position:absolute;top:0;left:0;width:130px;overflow:hidden}.ma-account-setting-content .content_list .item{margin:8px 15px;padding-bottom:5px;border-bottom:1px solid #666}.ma-account-setting-content .content_list .item .item-icon{margin-top:5px}.ma-account-setting-content .content_body{margin-left:150px}.ma-account-setting .content_body .borderItem{border-top:1px solid #666;margin:15px 150px 10px 0;overflow:hidden}.ma-account-setting .content_body .sub_borderItem{border-top:1px solid #e0dcd7;margin:2px 0;overflow:hidden}.ma-account-setting .content_body_item .item_left,.ma-account-setting .content_body_item .item_right{margin-right:25px}.ma-account-setting .content_body_item .item .sub_item{position:relative;width:320px;font-size:15px}.ma-account-setting .content_body_item .item .switch.switch-inline{padding-left:0}.ma-account-setting .content_body_item .item .radio,.ma-account-setting .content_body_item .item .checkout,.ma-account-setting .content_body_item .item .switch{font-size:13px;padding:5px 8px 0 24px;margin:5px 0}.ma-account-setting .content_body_item .item.switch_item{width:25%}.ma-account-setting .content_body_item .item .title span{padding-bottom:5px}.ma-account-setting .content_body_item .item.item_sub_radio{padding-left:15px}.ma-account-setting .content_body_item .item .mas_sub_radio{margin-left:15px}.ma-account-setting .content_body_item .item .input-text .select2-selection--single{height:25px}.ma-account-setting .content_body_item .item .mas_input .select-content{max-height:230px;overflow:auto}.ma-account-setting .content_body_item .item .select-text{margin:2px 0 0 5px;font-size:13px}.ma-account-setting .content_body_item .item .select-icon{margin-right:3px;margin-top:3px}.ma-account-setting .content_body_item .item .mas_input{position:absolute;top:25px;left:0;z-index:4;width:100%;background-color:#fff;display:none}.ma-account-setting .content_body_item .switch{width:100px}\", \"\"]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./components/account-setting-widget/src/widget/account-setting-widget.css\n// module id = 4\n// module chunks = 0","module.exports = function() {\r\n\tvar list = [];\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\treturn list;\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/cssToString.js\n// module id = 5\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {};\r\n\r\nmodule.exports = function(list) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles);\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j]));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j]));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\t// var sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media/*, sourceMap: sourceMap*/};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction addStyle(obj) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = document.head || document.getElementsByTagName(\"head\")[0];\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\tapplyToTag(styleElement, obj);\r\n\treturn function(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media /*&& newObj.sourceMap === obj.sourceMap*/)\r\n\t\t\t\treturn;\r\n\t\t\tapplyToTag(styleElement, obj = newObj);\r\n\t\t} else {\r\n\t\t\thead.removeChild(styleElement);\r\n\t\t}\r\n\t};\r\n};\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\t// var sourceMap = obj.sourceMap;\r\n\r\n\t// No browser support\r\n\t// if(sourceMap && typeof btoa === \"function\") {\r\n\t\t// try {\r\n\t\t\t// css += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(JSON.stringify(sourceMap)) + \" */\";\r\n\t\t// } catch(e) {}\r\n\t// }\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/addStyles.js\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"portfolio-components-common\"\n// module id = 7\n// module chunks = 0","define(function() {\r\n    \"use strict\";\r\n\r\n    var portfolioCommon = require(\"portfolio-components-common\");\r\n    var ModelBase = portfolioCommon.widget.ModelBase;\r\n\r\n    var dataModel = ModelBase.extend({\r\n\r\n        defaults: function() {\r\n            return {\r\n\r\n                requestSetting: {\r\n\r\n                    //for common request\r\n                    all_account_settings: {\r\n                        cacheId: \"all_account_settings\",\r\n                        resource: \"paapi/v1/portfolios/setting/option\",\r\n                        type: \"GET\"\r\n                    },\r\n\r\n                    change_account_setting: {\r\n                        resource: \"paapi/v1/portfolios/{portfolioId}/setting\",\r\n                        type: \"POST\"\r\n                    }\r\n                }\r\n            };\r\n        },\r\n\r\n\r\n        initialize: function() {\r\n\r\n\r\n            ModelBase.prototype.initialize.apply(this, arguments);\r\n\r\n            //==============================================\r\n            this.requestAccountSettingData();\r\n            return this;\r\n        },\r\n\r\n\r\n        requestAccountSettingData: function() {\r\n            clearTimeout(this.timeout_request);\r\n            var self = this;\r\n            this.timeout_request = setTimeout(function() {\r\n                self.requestAccountSettingDataNow();\r\n            }, 10);\r\n\r\n            return this;\r\n        },\r\n\r\n        requestAccountSettingDataNow: function() {\r\n            var self = this;\r\n            this.requestData(\"all_account_settings\").done(function(data) {\r\n                var accountSettingData = self.getAccountSetting(data);\r\n                self.set(\"all_account_settings\", accountSettingData);\r\n                self.requestDefaultAccountData();\r\n            }).fail(function(info) {\r\n                self.hideLoading();\r\n                self.showErrorInfo(\"Setting now available, please try aigain\");\r\n                console.log(\"Request account setting  fail:\", info);\r\n            });\r\n        },\r\n\r\n        requestDefaultAccountData: function() {\r\n            var self = this;\r\n            var portfolioId = this.getSetting(\"portfolioId\");\r\n            var groupId = this.getSetting(\"groupId\");\r\n            var source = this.getSetting(\"source\");\r\n            var d_accountSetting = this.service.requestAccountSettingData({\r\n                portfolioId: portfolioId,\r\n                groupId: groupId,\r\n                source: source\r\n            });\r\n            d_accountSetting.done(function(accountSetting) {\r\n                self.set(\"portfolio_account_setting\", accountSetting);\r\n            }).fail(function(info) {\r\n                self.hideLoading();\r\n                self.showErrorInfo(\"Setting now available, please try aigain\");\r\n                console.log(\"Request default account setting fail:\", info);\r\n            });\r\n        },\r\n\r\n        putDefaultAccountData: function(putData) {\r\n            var portfolioId = this.getSetting(\"portfolioId\");\r\n            var replaceOption = {\r\n                portfolioId: portfolioId,\r\n                postData: putData\r\n            };\r\n            return this.requestData(\"change_account_setting\", replaceOption);\r\n        },\r\n\r\n        removeAccountSettingDataCache: function(option) {\r\n            if (!option) {\r\n                return this;\r\n            }\r\n            var requestOption = this.getRequestOption(\"account_setting\", option);\r\n            var cacheId = requestOption.cacheId;\r\n            this.removeCache(cacheId);\r\n        },\r\n\r\n        getAccountSetting: function(data) {\r\n            if (!data) {\r\n                return this;\r\n            }\r\n            var accountData = {};\r\n\r\n            for (var item in data) {\r\n                if (data.hasOwnProperty(item)) {\r\n                    accountData[item] = {};\r\n                    accountData[item].id = item;\r\n                    accountData[item].list = data[item];\r\n                }\r\n            }\r\n\r\n            return accountData;\r\n        }\r\n    });\r\n\r\n    return dataModel;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget-data-model.js\n// module id = 8\n// module chunks = 0","module.exports = \"<div class=ma-account-setting><div data-widget-view=default_view view-type=chart class=ma-account-setting-popupLayout><div class=\\\"ma-account-setting-header clearfix\\\"><div class=pull-left><span>Account Settings</span></div><div class=\\\"pull-right clearfix\\\"><div class=pull-left><button data-id=cancel-btn class=\\\"mas-cancel-btn btn btn-default\\\">Cancel</button></div><div class=pull-left><button data-id=ok-btn class=\\\"mas-ok-btn btn btn-default\\\">Save</button></div></div></div><div class=\\\"ma-account-setting-content ma-common-main-block\\\"></div></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/widget/account-setting-widget.html\n// module id = 9\n// module chunks = 0","module.exports = \"<div class=account_setting_content><div class=content_list><div class=\\\"item mas_item_list clearfix\\\" data-id=item_general><div class=\\\"item-text pull-left\\\">General</div><div class=\\\"item-icon ic-arrow-right-sm pull-right\\\"></div></div><div class=\\\"item mas_item_list clearfix\\\" data-id=item_calculation><div class=\\\"item-text pull-left\\\">Calculation</div><div class=\\\"item-icon ic-arrow-right-sm pull-right\\\" style=display:none></div></div></div><div class=content_body><div class=item_general>{GeneralSetting}</div><div class=item_calculation>{CalculationSettting}</div></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/account-setting-content.html\n// module id = 10\n// module chunks = 0","module.exports = \"<div data-id=general_content><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left portfolioIdentifier\\\"><div class=title><span>Portfolio Identifier</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{portfolioIdentifier}</div></div></div><div class=\\\"pull-left item_right modelPortfolio\\\"><div class=title><span>Model Portfolio</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{modelPortfolio}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item separaManAcc clearfix\\\"><div class=title><span>Separately Mananged Account</span></div><div class=\\\"item switch_item\\\"><div class=sub_borderItem></div><div class=sub_item>{separaManAcc}</div></div></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/general_setting.html\n// module id = 11\n// module chunks = 0","module.exports = \"<div data-id=calculation_content><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left portfolioCurrency\\\"><div class=title><span>Portfolio Currency</span></div><div class=\\\"item item_sub_select\\\"><div class=sub_borderItem></div><div class=sub_item>{portfolioCurrency}</div></div></div><div class=\\\"pull-left item_right performanceBenchmark\\\"><div class=title><span>Performance Benchmark</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{performanceBenchmark}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left riskFreeProxy\\\"><div class=title><span>Risk-Free Proxy</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{riskFreeProxy}</div></div></div><div class=\\\"pull-left item_right cashPerformance\\\"><div class=title><span>Cash Performance</span></div><div class=\\\"pull-left item item_sub\\\"><div class=sub_borderItem></div><div class=sub_item>{cashPerformance}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left performanceSource\\\"><div class=title><span>Performance Source</span></div><div class=sub_borderItem></div><div class=\\\"item performance_source\\\"><div class=\\\"sub_item pull-left\\\">{performanceSource}</div><div class=\\\"sub_item pull-left sub_performance_source\\\">{subPerformanceSource}</div></div></div><div class=\\\"pull-left item_right import_source hidden importSource\\\"><div class=title><span>Import Source</span></div><div class=\\\"item item_sub\\\"><div class=sub_borderItem></div><div class=sub_item>{importSource}</div></div></div></div><div class=borderItem></div><div class=\\\"content_body_item clearfix\\\"><div class=\\\"pull-left item_left missingPerData\\\"><div class=title><span>Missing Performance Data</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{missingPerData}</div></div></div><div class=\\\"pull-left item_right gapsInAvaPerformance\\\"><div class=title><span>Gaps In Available Performance</span></div><div class=item><div class=sub_borderItem></div><div class=sub_item>{gapsInAvaPerformance}</div></div></div><div class=\\\"pull-left item_right rebFrequency\\\"><div class=title><span>Rebalancing Frequency</span></div><div class=\\\"item item_sub\\\"><div class=sub_borderItem></div><div class=sub_item>{rebFrequency}</div></div></div></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/calculation_setting.html\n// module id = 12\n// module chunks = 0","define(function() {\r\n    \"use strict\";\r\n    var portfolioCommon = require('portfolio-components-common');\r\n    var AutoComplete = portfolioCommon.ui.AutoComplete;\r\n\r\n    var eventHandler = {\r\n        events: {\r\n            \"click .mas_select\": \"_showSelectList\",\r\n            \"click .mas_parent_radio.radio\": \"_onClickRadio\",\r\n            \"click .mas_sub_radio.radio\": \"_onClickSubsRadio\",\r\n            \"click .mas_switch\": \"_onClickSwitch\",\r\n            \"click .mas_input\": \"_onClickSelectList\",\r\n            \"click .mas_input_search\": \"_onShowBenchmark\",\r\n            \"click .mas-cancel-btn\": \"_onClickCloseBtn\",\r\n            \"click .mas-ok-btn\": \"_onClickSaveBtn\",\r\n            \"click .mas_item_list\": \"_onClickItemList\",\r\n            \"blur .mas-input-text\": \"_onClickInputText\"\r\n        },\r\n\r\n        _onClickItemList: function(e) {\r\n            var $currentTarget = $(e.currentTarget);\r\n            var dataId = $currentTarget.attr(\"data-id\");\r\n            var showContainer = this.$(\".\" + dataId);\r\n            var hideContainer = this.$(\".\" + dataId).siblings();\r\n            var showIcon = $currentTarget.find(\".item-icon\");\r\n            var hideIcon = $currentTarget.siblings().find(\".item-icon\");\r\n            showIcon.show();\r\n            hideIcon.hide();\r\n            showContainer.show();\r\n            hideContainer.hide();\r\n            return this;\r\n        },\r\n\r\n        _onShowBenchmark: function(e) {\r\n            var $elem = $(e.currentTarget);\r\n            if ($elem.hasClass(\"select2-container--disabled\")) {\r\n                return this;\r\n            }\r\n            if (this.popup && this.popup.visible) {\r\n                this.popup.close();\r\n                return this;\r\n            }\r\n\r\n            var option = {\r\n                target: $elem,\r\n                type: \"account_setting\"\r\n            };\r\n            this.popup = new AutoComplete();\r\n            this.popup.setOption(option);\r\n            var self = this;\r\n            $(this.$el).one(\"click\", function() {\r\n                if (self.popup && self.popup.visible) {\r\n                    self.popup.close();\r\n                }\r\n                return false;\r\n            });\r\n            this.popup.bind(\"close\", function() {\r\n                this.popup = null;\r\n            }).bind(\"change\", function(e, d) {\r\n                $elem.find(\".select-text\").html(d.name || \"\");\r\n                var dataValue = $elem.attr(\"data-value\");\r\n                self.setSearchData(dataValue, d);\r\n            }).bind(\"search_data\", function(e, keywords) {\r\n                self.model.requestData(\"search_portfolios\", {\r\n                    keywords: keywords\r\n                }).done(function(d) {\r\n                    if (d && d.datas) {\r\n                        self.popup.setSearchResult(d.datas);\r\n                    }\r\n                }).fail(function() {\r\n                    console.log(\"requestData search_portfolios fail:\", keywords);\r\n                });\r\n            });\r\n            this.popup.show();\r\n            return this;\r\n        },\r\n\r\n        setSearchData: function(dataValue, d) {\r\n            if (dataValue === \"benchmark\") {\r\n                this.accountSettingData.benchmarkName = d.name;\r\n                this.accountSettingData.benchmarkId = d.id;\r\n                return this;\r\n            }\r\n            if (dataValue === \"freePoxy\") {\r\n                this.accountSettingData.riskFreeProxyName = d.name;\r\n                this.accountSettingData.riskFreeProxyId = d.id;\r\n                return this;\r\n            }\r\n        },\r\n\r\n\r\n        _showSelectList: function(e, d) {\r\n            var target = e.currentTarget;\r\n            var nextNode = $(target).next();\r\n            if (nextNode.is(\":visible\")) {\r\n                nextNode.hide();\r\n                return;\r\n            }\r\n            this.$(\".input-text .input-content\").hide();\r\n            nextNode.show();\r\n            $(this.$el).one(\"click\", function() {\r\n                nextNode.hide();\r\n                return false;\r\n            });\r\n        },\r\n\r\n        _onClickSelectList: function(e) {\r\n\r\n            var $elem = $(e.target);\r\n            var $curTarget = $(e.currentTarget);\r\n            var dataName = $curTarget.attr(\"data-value\");\r\n            var dataId = $elem.attr(\"data-id\");\r\n            var dataValue = $elem.attr(\"data-value\");\r\n            this.accountSettingData[dataName] = dataId;\r\n\r\n            var slibingsNode = $elem.siblings();\r\n            $elem.addClass(\"select-option-selected\");\r\n            slibingsNode.removeClass(\"select-option-selected\");\r\n            $curTarget.hide();\r\n            var dataValueDom = $curTarget.prev().find(\".select-text\");\r\n            dataValueDom.html(dataValue);\r\n        },\r\n\r\n        getSubPerformanceId: function($elem, dataName) {\r\n            var $subRadios = this.$(\"[data-id=\" + dataName + \"]\");\r\n            var dataId = $elem.attr(\"data-id\");\r\n            //hide sub Performance source\r\n            // this.$(\".sub_performance_source\").hide();\r\n            $subRadios.hide();\r\n            $subRadios.parent().width(0);\r\n\r\n            if ($elem.hasClass(\"hasSubRadio\")) {\r\n                //show sub Performance source\r\n                this.$(\".sub_performance_source\").show();\r\n                $subRadios.show();\r\n                $subRadios.parent().width(320);\r\n\r\n\r\n                var $subChild = $subRadios.find(\".radio\");\r\n                var $firstChild = $subChild.eq(0);\r\n\r\n                if (!$subChild.hasClass(\"selected\")) {\r\n                    $firstChild.addClass(\"selected\");\r\n                    dataId = $firstChild.attr(\"data-id\");\r\n                } else {\r\n                    dataId = $subRadios.find(\".radio.selected\").attr(\"data-id\");\r\n                }\r\n            }\r\n\r\n            return dataId;\r\n        },\r\n\r\n\r\n        _onClickRadio: function(e) {\r\n            var $elem = $(e.target);\r\n            var dataName = $elem.parent().attr(\"data-value\");\r\n            var dataId = $elem.attr(\"data-id\");\r\n\r\n            if (dataName === \"performanceSourceId\") {\r\n                var $importSource = this.$(\".import_source\");\r\n                $importSource.addClass(\"hidden\");\r\n                dataId = this.getSubPerformanceId($elem, dataName);\r\n                if (dataId === \"3\" || dataId === \"2\") {\r\n                    $importSource.removeClass(\"hidden\");\r\n                }\r\n            }\r\n            this.accountSettingData[dataName] = dataId;\r\n            var slibingsNode = $elem.siblings();\r\n            $elem.addClass(\"selected\");\r\n            slibingsNode.removeClass(\"selected\");\r\n\r\n        },\r\n\r\n        _onClickSubsRadio: function(e) {\r\n            var $elem = $(e.target);\r\n            var dataId = $elem.attr(\"data-id\");\r\n            var dataName = $elem.parent().attr(\"data-id\");\r\n            if ($elem.hasClass(\"disabled\")) {\r\n                return this;\r\n            }\r\n            //show/hide import source\r\n            var $importSource = this.$(\".import_source\");\r\n            $importSource.addClass(\"hidden\");\r\n            if (dataId !== \"1\") {\r\n                $importSource.removeClass(\"hidden\");\r\n            }\r\n\r\n            this.accountSettingData[dataName] = dataId;\r\n            $elem.addClass(\"selected\");\r\n            $elem.siblings().removeClass(\"selected\");\r\n        },\r\n\r\n        _onClickSwitch: function(e) {\r\n            var target = e.currentTarget;\r\n            var nextNode = $(target).next();\r\n            var parentNode = $(target).parent();\r\n            var dataName = parentNode.attr(\"data-id\");\r\n\r\n            if (parentNode.hasClass(\"selected\")) {\r\n                parentNode.removeClass(\"selected\");\r\n                this.accountSettingData[dataName] = false;\r\n                nextNode.html(\"Yes\");\r\n                return this;\r\n            }\r\n            this.accountSettingData[dataName] = true;\r\n            parentNode.addClass(\"selected\");\r\n            nextNode.html(\"No\");\r\n        },\r\n\r\n\r\n        _onClickCloseBtn: function() {\r\n            this.model.actionHandlerSend(\"closeContainerModal\", \"cancel\");\r\n            this.destroy();\r\n            this.model = null;\r\n        },\r\n\r\n\r\n        _onClickSaveBtn: function() {\r\n            var accountSettingData = this.accountSettingData;\r\n            this.model.showLoading();\r\n            this.$(\".account_setting_content\").remove();\r\n            this.model.setSetting(\"accountSettingData\", accountSettingData);\r\n            var self = this;\r\n            var option = {\r\n                portfolioId: this.model.getSetting(\"portfolioId\"),\r\n                groupId: this.model.getSetting(\"groupId\"),\r\n                source: this.model.getSetting(\"source\")\r\n            };\r\n            this.model.putDefaultAccountData(accountSettingData).done(function() {\r\n                self.model.actionHandlerSend(\"closeContainerModal\", \"save\");\r\n                self.model.removeAccountSettingDataCache(option);\r\n                self.model = null;\r\n            }).fail(function() {\r\n                self.model.hideLoading();\r\n                self.model.showErrorInfo(\"Put setting failed, please try aigain\");\r\n            });\r\n        },\r\n\r\n        _onClickInputText: function(e) {\r\n            var $target = $(e.target);\r\n            var dataName = $target.parent().attr(\"data-value\");\r\n            if (!dataName) {\r\n                return this;\r\n            }\r\n            var textValue = $target.val();\r\n            this.accountSettingData[dataName] = textValue;\r\n\r\n        }\r\n    };\r\n\r\n    return eventHandler;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/js/event-handler-dom.js\n// module id = 13\n// module chunks = 0","define(function() {\r\n    'use strict';\r\n\r\n    var portfolioCommon = require('portfolio-components-common');\r\n    var Util = portfolioCommon.util.Util;\r\n    var searchInputHtml = require(\"../html/search-input.html\");\r\n    var radioSelectHtml = require(\"../html/radio-select.html\");\r\n    var comboxSelectHtml = require(\"../html/combox-select.html\");\r\n    var switchHtml = require(\"../html/switch.html\");\r\n\r\n    var eventHandler = {\r\n        createSelectList: function(data, value) {\r\n\r\n            var list = data.list;\r\n\r\n            var selcteValue = \"\";\r\n            var $ul = \"\";\r\n            if (Util.islist(list)) {\r\n                list.forEach(function(item, key) {\r\n                    var itemName = item.name;\r\n                    var className = \"select-option\";\r\n                    if (item.id === value) {\r\n                        selcteValue = itemName;\r\n                        className = \"select-option select-option-selected\";\r\n                    }\r\n                    $ul += \"<li class='\" + className + \"' data-value='\" + itemName + \"' data-id='\" + item.id + \"'>\" + itemName + \"</li>\";\r\n                });\r\n            }\r\n\r\n            var $html = Util.replace(comboxSelectHtml, {\r\n                selcteValue: selcteValue,\r\n                dataId: data.id,\r\n                $ul: $ul\r\n            });\r\n\r\n            return $html;\r\n        },\r\n\r\n        createRadioList: function(data, value) {\r\n            if (!data || !data.list) {\r\n                return this;\r\n            }\r\n            var list = data.list;\r\n            var listData = this.getListData(list, value);\r\n            if (!Util.islist(listData)) {\r\n                return this;\r\n            }\r\n            var $singleRadio = \"<div class='{dataClassName}' data-id='{dataId}'>\" +\r\n                \" <span> {dataName} </span> </div>\";\r\n            var $html = \"\";\r\n\r\n            listData.forEach(function(item) {\r\n                var dataClassName = \"mas_parent_radio radio\";\r\n                if (Util.islist(item.subs)) {\r\n                    dataClassName += \" hasSubRadio\";\r\n                }\r\n                if (item.selected) {\r\n                    dataClassName += \" selected\";\r\n                }\r\n                $html += Util.replace($singleRadio, {\r\n                    dataId: item.id,\r\n                    dataName: item.name,\r\n                    dataClassName: dataClassName\r\n\r\n                });\r\n            });\r\n            return Util.replace(radioSelectHtml, {\r\n                RadioSelectContent: $html,\r\n                dataValue: data.id\r\n            });\r\n        },\r\n\r\n        createSubPerfSource: function(data, value) {\r\n            if (!data || !data.list) {\r\n                return this;\r\n            }\r\n            var listData = this.getListData(data.list, value);\r\n            if (!Util.islist(listData)) {\r\n                return this;\r\n            }\r\n            var getSubsHtml = function(item) {\r\n                var list = item.subs;\r\n                if (!Util.islist(list)) {\r\n                    return this;\r\n                }\r\n                var show = item.selected ? \"block\" : \"none\";\r\n                var $subsRadio = \"<div data-id=\" + data.id + \" style='display:\" + show + \"'>\";\r\n                list.forEach(function(d) {\r\n                    var subsClassName = \"mas_sub_radio radio\";\r\n                    if (d.selected) {\r\n                        subsClassName = \"mas_sub_radio radio selected\";\r\n                    }\r\n                    $subsRadio += \"<div class='\" + subsClassName + \"' data-id='\" + d.id + \"'>\" + d.name + \"</div>\";\r\n                });\r\n                return $subsRadio + \"</div>\";\r\n            };\r\n            var $html = \"\";\r\n            listData.forEach(function(item) {\r\n                if (Util.islist(item.subs)) {\r\n                    $html = getSubsHtml(item);\r\n                }\r\n            });\r\n\r\n            return $html;\r\n\r\n        },\r\n\r\n        getListData: function(list, value) {\r\n\r\n            list = JSON.parse(JSON.stringify(list));\r\n            var listData = [];\r\n            var subsData = [];\r\n\r\n            var isBoolean = function(value) {\r\n                if (value === \"true\" || value === \"false\") {\r\n                    return true;\r\n                }\r\n                if (typeof(value) === \"boolean\") {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n\r\n            (function() {\r\n                for (var i = 0, l = list.length; i < l; i++) {\r\n                    var singleItem = list[i];\r\n                    if (!singleItem.parentId) {\r\n                        listData.push(singleItem);\r\n                    } else {\r\n                        subsData.push(singleItem);\r\n                    }\r\n                }\r\n            })(list);\r\n\r\n            var getBoolean = function(value) {\r\n                if (value === \"true\") {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n\r\n            listData.forEach(function(item, index) {\r\n                var dataId = item.id;\r\n                var subs = [];\r\n                if (isBoolean(item.id)) {\r\n                    if (getBoolean(item.id) === value) {\r\n                        item.selected = true;\r\n                        item.id = value;\r\n                    }\r\n                } else {\r\n                    if (item.id === value) {\r\n                        item.selected = true;\r\n                    } else {\r\n                        subsData.forEach(function(d) {\r\n                            if (dataId === d.parentId) {\r\n                                subs.push(d);\r\n                            }\r\n                            if (d.id === value && d.parentId === item.id) {\r\n                                d.selected = true;\r\n                                item.selected = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                item.subs = subs;\r\n\r\n            });\r\n            return listData;\r\n        },\r\n\r\n        createSearch: function(value, disabled) {\r\n            var searchData = this._getSearchData(value);\r\n            var className = \"mas_input_search select2-container--default\";\r\n            if (disabled) {\r\n                className = \"mas_input_search select2-container--default select2-container--disabled\";\r\n            }\r\n            var $html = Util.replace(searchInputHtml, {\r\n                className: className,\r\n                searchDataValue: searchData.value,\r\n                searchDataId: searchData.id,\r\n                searchDataname: searchData.name\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        _getSearchData: function(value) {\r\n            var searchData = {};\r\n            var defaultSetting = this.model.get(\"portfolio_account_setting\");\r\n            if (value === \"benchmark\") {\r\n                searchData.name = defaultSetting.benchmarkName;\r\n                searchData.id = defaultSetting.benchmarkId;\r\n            } else if (value === \"freePoxy\") {\r\n                searchData.name = defaultSetting.riskFreeProxyName;\r\n                searchData.id = defaultSetting.riskFreeProxyId;\r\n            } else {\r\n                searchData.name = \"\";\r\n                searchData.id = null;\r\n            }\r\n            searchData.value = value;\r\n            return searchData;\r\n        },\r\n\r\n\r\n        createSwitch: function(data, value) {\r\n            var selectedItem = [];\r\n            var unselectedItem = [];\r\n            var list = data.list;\r\n            var getBoolean = function(value) {\r\n                if (value === \"true\") {\r\n                    return true;\r\n                }\r\n                return false;\r\n            };\r\n            for (var i = 0, l = list.length; i < l; i++) {\r\n                var item = list[i];\r\n                if (getBoolean(item.id) === value) {\r\n                    selectedItem = item;\r\n                } else {\r\n                    unselectedItem = item;\r\n                }\r\n            }\r\n            var className = \"switch switch-inline\";\r\n            var valueName = unselectedItem.name;\r\n            if (value) {\r\n                className = \"switch switch-inline selected\";\r\n            }\r\n            var $html = Util.replace(switchHtml, {\r\n                className: className,\r\n                valueName: valueName,\r\n                dataId: data.id,\r\n                selectedItemName: selectedItem.name,\r\n                selectedItemId: selectedItem.id,\r\n                unselectedItemName: unselectedItem.name,\r\n                unselectedItemId: unselectedItem.id\r\n            });\r\n            return $html;\r\n        },\r\n\r\n        createInputText: function(data, value) {\r\n            var $html = '<div data-value=\"{dataValue}\">' +\r\n                '<input class=\"mas-input-text form-control\" type=\"text\" value={value}></input></div>';\r\n            return Util.replace($html, {\r\n                value: value || \"\",\r\n                datdataValue: \"\"\r\n            });\r\n        }\r\n\r\n    };\r\n    return eventHandler;\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/js/create_dom_handler.js\n// module id = 14\n// module chunks = 0","module.exports = \"<div class={className} data-value={searchDataValue} data-id={searchDataId}><span class=\\\"select2-selection--single clearfix\\\"><span class=\\\"pull-left select-text select2-selection__rendered\\\">{searchDataname}</span> <span class=\\\"pull-right select-icon ic-walkMe-search\\\"></span></span></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/search-input.html\n// module id = 15\n// module chunks = 0","module.exports = \"<div data-value={dataValue}>{RadioSelectContent}</div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/radio-select.html\n// module id = 16\n// module chunks = 0","module.exports = \"<div class=\\\"input-text select2-container--default\\\"><span class=\\\"mas_select select2-selection--single clearfix\\\"><span class=\\\"pull-left select-text select2-selection__rendered\\\">{selcteValue}</span> <span class=\\\"pull-right select-icon ic-arrow-down-sm\\\"></span></span><div class=\\\"mas_input select select-theme-default\\\" data-value={dataId}><div class=select-content><ul class=select-options>{$ul}</ul></div></div></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/combox-select.html\n// module id = 17\n// module chunks = 0","module.exports = \"<div class={className} data-id={dataId}><div class=\\\"mas_switch switch-content\\\"><div class=switch-center></div></div><span data-value={selectedItemName}:{selectedItemId} data-false-value={unselectedItemName}:{unselectedItemId}>{valueName}</span></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/account-setting-widget/src/html/switch.html\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}